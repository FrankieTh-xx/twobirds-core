var getJasmineRequireObj=function(jasmineGlobal){function getJasmineRequire(){return jasmineRequire}var jasmineRequire;return"undefined"!=typeof module&&module.exports?(jasmineGlobal="undefined"!=typeof global?global:{},jasmineRequire=exports):("undefined"!=typeof window&&"function"==typeof window.toString&&"[object GjsGlobal]"===window.toString()&&(jasmineGlobal=window),jasmineRequire=jasmineGlobal.jasmineRequire=jasmineGlobal.jasmineRequire||{}),getJasmineRequire().core=function(jRequire){var j$={};return jRequire.base(j$,jasmineGlobal),j$.util=jRequire.util(),j$.errors=jRequire.errors(),j$.Any=jRequire.Any(j$),j$.Anything=jRequire.Anything(j$),j$.CallTracker=jRequire.CallTracker(),j$.MockDate=jRequire.MockDate(),j$.Clock=jRequire.Clock(),j$.DelayedFunctionScheduler=jRequire.DelayedFunctionScheduler(),j$.Env=jRequire.Env(j$),j$.ExceptionFormatter=jRequire.ExceptionFormatter(),j$.Expectation=jRequire.Expectation(),j$.buildExpectationResult=jRequire.buildExpectationResult(),j$.JsApiReporter=jRequire.JsApiReporter(),j$.matchersUtil=jRequire.matchersUtil(j$),j$.ObjectContaining=jRequire.ObjectContaining(j$),j$.ArrayContaining=jRequire.ArrayContaining(j$),j$.pp=jRequire.pp(j$),j$.QueueRunner=jRequire.QueueRunner(j$),j$.ReportDispatcher=jRequire.ReportDispatcher(),j$.Spec=jRequire.Spec(j$),j$.SpyRegistry=jRequire.SpyRegistry(j$),j$.SpyStrategy=jRequire.SpyStrategy(),j$.StringMatching=jRequire.StringMatching(j$),j$.Suite=jRequire.Suite(j$),j$.Timer=jRequire.Timer(),j$.TreeProcessor=jRequire.TreeProcessor(),j$.version=jRequire.version(),j$.Order=jRequire.Order(),j$.matchers=jRequire.requireMatchers(jRequire,j$),j$},getJasmineRequire}(this);getJasmineRequireObj().requireMatchers=function(jRequire,j$){for(var availableMatchers=["toBe","toBeCloseTo","toBeDefined","toBeFalsy","toBeGreaterThan","toBeLessThan","toBeNaN","toBeNull","toBeTruthy","toBeUndefined","toContain","toEqual","toHaveBeenCalled","toHaveBeenCalledWith","toHaveBeenCalledTimes","toMatch","toThrow","toThrowError"],matchers={},i=0;i<availableMatchers.length;i++){var name=availableMatchers[i];matchers[name]=jRequire[name](j$)}return matchers},getJasmineRequireObj().base=function(j$,jasmineGlobal){j$.unimplementedMethod_=function(){throw new Error("unimplemented method")},j$.MAX_PRETTY_PRINT_DEPTH=40,j$.MAX_PRETTY_PRINT_ARRAY_LENGTH=100,j$.DEFAULT_TIMEOUT_INTERVAL=5e3,j$.getGlobal=function(){return jasmineGlobal},j$.getEnv=function(options){var env=j$.currentEnv_=j$.currentEnv_||new j$.Env(options);return env},j$.isArray_=function(value){return j$.isA_("Array",value)},j$.isString_=function(value){return j$.isA_("String",value)},j$.isNumber_=function(value){return j$.isA_("Number",value)},j$.isA_=function(typeName,value){return Object.prototype.toString.apply(value)==="[object "+typeName+"]"},j$.isDomNode=function(obj){return obj.nodeType>0},j$.fnNameFor=function(func){return func.name||func.toString().match(/^\s*function\s*(\w*)\s*\(/)[1]},j$.any=function(clazz){return new j$.Any(clazz)},j$.anything=function(){return new j$.Anything},j$.objectContaining=function(sample){return new j$.ObjectContaining(sample)},j$.stringMatching=function(expected){return new j$.StringMatching(expected)},j$.arrayContaining=function(sample){return new j$.ArrayContaining(sample)},j$.createSpy=function(name,originalFn){var spyStrategy=new j$.SpyStrategy({name:name,fn:originalFn,getSpy:function(){return spy}}),callTracker=new j$.CallTracker,spy=function(){var callData={object:this,args:Array.prototype.slice.apply(arguments)};callTracker.track(callData);var returnValue=spyStrategy.exec.apply(this,arguments);return callData.returnValue=returnValue,returnValue};for(var prop in originalFn){if("and"===prop||"calls"===prop)throw new Error("Jasmine spies would overwrite the 'and' and 'calls' properties on the object being spied upon");spy[prop]=originalFn[prop]}return spy.and=spyStrategy,spy.calls=callTracker,spy},j$.isSpy=function(putativeSpy){return!!putativeSpy&&(putativeSpy.and instanceof j$.SpyStrategy&&putativeSpy.calls instanceof j$.CallTracker)},j$.createSpyObj=function(baseName,methodNames){if(j$.isArray_(baseName)&&j$.util.isUndefined(methodNames)&&(methodNames=baseName,baseName="unknown"),!j$.isArray_(methodNames)||0===methodNames.length)throw"createSpyObj requires a non-empty array of method names to create spies for";for(var obj={},i=0;i<methodNames.length;i++)obj[methodNames[i]]=j$.createSpy(baseName+"."+methodNames[i]);return obj}},getJasmineRequireObj().util=function(){var util={};return util.inherit=function(childClass,parentClass){var Subclass=function(){};Subclass.prototype=parentClass.prototype,childClass.prototype=new Subclass},util.htmlEscape=function(str){return str?str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):str},util.argsToArray=function(args){for(var arrayOfArgs=[],i=0;i<args.length;i++)arrayOfArgs.push(args[i]);return arrayOfArgs},util.isUndefined=function(obj){return void 0===obj},util.arrayContains=function(array,search){for(var i=array.length;i--;)if(array[i]===search)return!0;return!1},util.clone=function(obj){if("[object Array]"===Object.prototype.toString.apply(obj))return obj.slice();var cloned={};for(var prop in obj)obj.hasOwnProperty(prop)&&(cloned[prop]=obj[prop]);return cloned},util},getJasmineRequireObj().Spec=function(j$){function Spec(attrs){this.expectationFactory=attrs.expectationFactory,this.resultCallback=attrs.resultCallback||function(){},this.id=attrs.id,this.description=attrs.description||"",this.queueableFn=attrs.queueableFn,this.beforeAndAfterFns=attrs.beforeAndAfterFns||function(){return{befores:[],afters:[]}},this.userContext=attrs.userContext||function(){return{}},this.onStart=attrs.onStart||function(){},this.getSpecName=attrs.getSpecName||function(){return""},this.expectationResultFactory=attrs.expectationResultFactory||function(){},this.queueRunnerFactory=attrs.queueRunnerFactory||function(){},this.catchingExceptions=attrs.catchingExceptions||function(){return!0},this.throwOnExpectationFailure=!!attrs.throwOnExpectationFailure,this.queueableFn.fn||this.pend(),this.result={id:this.id,description:this.description,fullName:this.getFullName(),failedExpectations:[],passedExpectations:[],pendingReason:""}}Spec.prototype.addExpectationResult=function(passed,data,isError){var expectationResult=this.expectationResultFactory(data);if(passed)this.result.passedExpectations.push(expectationResult);else if(this.result.failedExpectations.push(expectationResult),this.throwOnExpectationFailure&&!isError)throw new j$.errors.ExpectationFailed},Spec.prototype.expect=function(actual){return this.expectationFactory(actual,this)},Spec.prototype.execute=function(onComplete,enabled){function complete(enabledAgain){self.result.status=self.status(enabledAgain),self.resultCallback(self.result),onComplete&&onComplete()}var self=this;if(this.onStart(this),!this.isExecutable()||this.markedPending||enabled===!1)return void complete(enabled);var fns=this.beforeAndAfterFns(),allFns=fns.befores.concat(this.queueableFn).concat(fns.afters);this.queueRunnerFactory({queueableFns:allFns,onException:function(){self.onException.apply(self,arguments)},onComplete:complete,userContext:this.userContext()})},Spec.prototype.onException=function(e){return Spec.isPendingSpecException(e)?void this.pend(extractCustomPendingMessage(e)):void(e instanceof j$.errors.ExpectationFailed||this.addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",error:e},!0))},Spec.prototype.disable=function(){this.disabled=!0},Spec.prototype.pend=function(message){this.markedPending=!0,message&&(this.result.pendingReason=message)},Spec.prototype.getResult=function(){return this.result.status=this.status(),this.result},Spec.prototype.status=function(enabled){return this.disabled||enabled===!1?"disabled":this.markedPending?"pending":this.result.failedExpectations.length>0?"failed":"passed"},Spec.prototype.isExecutable=function(){return!this.disabled},Spec.prototype.getFullName=function(){return this.getSpecName(this)};var extractCustomPendingMessage=function(e){var fullMessage=e.toString(),boilerplateStart=fullMessage.indexOf(Spec.pendingSpecExceptionMessage),boilerplateEnd=boilerplateStart+Spec.pendingSpecExceptionMessage.length;return fullMessage.substr(boilerplateEnd)};return Spec.pendingSpecExceptionMessage="=> marked Pending",Spec.isPendingSpecException=function(e){return!(!e||!e.toString||e.toString().indexOf(Spec.pendingSpecExceptionMessage)===-1)},Spec},void 0==typeof window&&"object"==typeof exports&&(exports.Spec=jasmineRequire.Spec),getJasmineRequireObj().Order=function(){function Order(options){function naturalOrder(items){return items}function randomOrder(items){var copy=items.slice();return copy.sort(function(a,b){return jenkinsHash(seed+a.id)-jenkinsHash(seed+b.id)}),copy}function generateSeed(){return String(Math.random()).slice(-5)}function jenkinsHash(key){var hash,i;for(hash=i=0;i<key.length;++i)hash+=key.charCodeAt(i),hash+=hash<<10,hash^=hash>>6;return hash+=hash<<3,hash^=hash>>11,hash+=hash<<15}this.random=!("random"in options)||options.random;var seed=this.seed=options.seed||generateSeed();this.sort=this.random?randomOrder:naturalOrder}return Order},getJasmineRequireObj().Env=function(j$){function Env(options){function clearStack(fn){currentSpecCallbackDepth++,currentSpecCallbackDepth>=maximumSpecCallbackDepth?(currentSpecCallbackDepth=0,realSetTimeout(fn,0)):fn()}function addSpecsToSuite(suite,specDefinitions){var parentSuite=currentDeclarationSuite;parentSuite.addChild(suite),currentDeclarationSuite=suite;var declarationError=null;try{specDefinitions.call(suite)}catch(e){declarationError=e}declarationError&&self.it("encountered a declaration exception",function(){throw declarationError}),currentDeclarationSuite=parentSuite}function findFocusedAncestor(suite){for(;suite;){if(suite.isFocused)return suite.id;suite=suite.parentSuite}return null}function unfocusAncestor(){var focusedAncestor=findFocusedAncestor(currentDeclarationSuite);if(focusedAncestor)for(var i=0;i<focusedRunnables.length;i++)if(focusedRunnables[i]===focusedAncestor){focusedRunnables.splice(i,1);break}}options=options||{};var self=this,global=options.global||j$.getGlobal(),totalSpecsDefined=0,catchExceptions=!0,realSetTimeout=j$.getGlobal().setTimeout,realClearTimeout=j$.getGlobal().clearTimeout;this.clock=new j$.Clock(global,function(){return new j$.DelayedFunctionScheduler},new j$.MockDate(global));var runnableLookupTable={},runnableResources={},currentSpec=null,currentlyExecutingSuites=[],currentDeclarationSuite=null,throwOnExpectationFailure=!1,random=!1,seed=null,currentSuite=function(){return currentlyExecutingSuites[currentlyExecutingSuites.length-1]},currentRunnable=function(){return currentSpec||currentSuite()},reporter=new j$.ReportDispatcher(["jasmineStarted","jasmineDone","suiteStarted","suiteDone","specStarted","specDone"]);this.specFilter=function(){return!0},this.addCustomEqualityTester=function(tester){if(!currentRunnable())throw new Error("Custom Equalities must be added in a before function or a spec");runnableResources[currentRunnable().id].customEqualityTesters.push(tester)},this.addMatchers=function(matchersToAdd){if(!currentRunnable())throw new Error("Matchers must be added in a before function or a spec");var customMatchers=runnableResources[currentRunnable().id].customMatchers;for(var matcherName in matchersToAdd)customMatchers[matcherName]=matchersToAdd[matcherName]},j$.Expectation.addCoreMatchers(j$.matchers);var nextSpecId=0,getNextSpecId=function(){return"spec"+nextSpecId++},nextSuiteId=0,getNextSuiteId=function(){return"suite"+nextSuiteId++},expectationFactory=function(actual,spec){function addExpectationResult(passed,result){return spec.addExpectationResult(passed,result)}return j$.Expectation.Factory({util:j$.matchersUtil,customEqualityTesters:runnableResources[spec.id].customEqualityTesters,customMatchers:runnableResources[spec.id].customMatchers,actual:actual,addExpectationResult:addExpectationResult})},defaultResourcesForRunnable=function(id,parentRunnableId){var resources={spies:[],customEqualityTesters:[],customMatchers:{}};runnableResources[parentRunnableId]&&(resources.customEqualityTesters=j$.util.clone(runnableResources[parentRunnableId].customEqualityTesters),resources.customMatchers=j$.util.clone(runnableResources[parentRunnableId].customMatchers)),runnableResources[id]=resources},clearResourcesForRunnable=function(id){spyRegistry.clearSpies(),delete runnableResources[id]},beforeAndAfterFns=function(suite){return function(){for(var befores=[],afters=[];suite;)befores=befores.concat(suite.beforeFns),afters=afters.concat(suite.afterFns),suite=suite.parentSuite;return{befores:befores.reverse(),afters:afters}}},getSpecName=function(spec,suite){return suite.getFullName()+" "+spec.description},buildExpectationResult=j$.buildExpectationResult,exceptionFormatter=new j$.ExceptionFormatter,expectationResultFactory=function(attrs){return attrs.messageFormatter=exceptionFormatter.message,attrs.stackFormatter=exceptionFormatter.stack,buildExpectationResult(attrs)};this.catchExceptions=function(value){return catchExceptions=!!value},this.catchingExceptions=function(){return catchExceptions};var maximumSpecCallbackDepth=20,currentSpecCallbackDepth=0,catchException=function(e){return j$.Spec.isPendingSpecException(e)||catchExceptions};this.throwOnExpectationFailure=function(value){throwOnExpectationFailure=!!value},this.throwingExpectationFailures=function(){return throwOnExpectationFailure},this.randomizeTests=function(value){random=!!value},this.randomTests=function(){return random},this.seed=function(value){return value&&(seed=value),seed};var queueRunnerFactory=function(options){options.catchException=catchException,options.clearStack=options.clearStack||clearStack,options.timeout={setTimeout:realSetTimeout,clearTimeout:realClearTimeout},options.fail=self.fail,new j$.QueueRunner(options).execute()},topSuite=new j$.Suite({env:this,id:getNextSuiteId(),description:"Jasmine__TopLevel__Suite",queueRunner:queueRunnerFactory});runnableLookupTable[topSuite.id]=topSuite,defaultResourcesForRunnable(topSuite.id),currentDeclarationSuite=topSuite,this.topSuite=function(){return topSuite},this.execute=function(runnablesToRun){runnablesToRun||(runnablesToRun=focusedRunnables.length?focusedRunnables:[topSuite.id]);var order=new j$.Order({random:random,seed:seed}),processor=new j$.TreeProcessor({tree:topSuite,runnableIds:runnablesToRun,queueRunnerFactory:queueRunnerFactory,nodeStart:function(suite){currentlyExecutingSuites.push(suite),defaultResourcesForRunnable(suite.id,suite.parentSuite.id),reporter.suiteStarted(suite.result)},nodeComplete:function(suite,result){suite.disabled||clearResourcesForRunnable(suite.id),currentlyExecutingSuites.pop(),reporter.suiteDone(result)},orderChildren:function(node){return order.sort(node.children)}});if(!processor.processTree().valid)throw new Error("Invalid order: would cause a beforeAll or afterAll to be run multiple times");reporter.jasmineStarted({totalSpecsDefined:totalSpecsDefined}),processor.execute(function(){reporter.jasmineDone({order:order})})},this.addReporter=function(reporterToAdd){reporter.addReporter(reporterToAdd)};var spyRegistry=new j$.SpyRegistry({currentSpies:function(){if(!currentRunnable())throw new Error("Spies must be created in a before function or a spec");return runnableResources[currentRunnable().id].spies}});this.spyOn=function(){return spyRegistry.spyOn.apply(spyRegistry,arguments)};var suiteFactory=function(description){var suite=new j$.Suite({env:self,id:getNextSuiteId(),description:description,parentSuite:currentDeclarationSuite,expectationFactory:expectationFactory,expectationResultFactory:expectationResultFactory,throwOnExpectationFailure:throwOnExpectationFailure});return runnableLookupTable[suite.id]=suite,suite};this.describe=function(description,specDefinitions){var suite=suiteFactory(description);if(specDefinitions.length>0)throw new Error("describe does not expect a done parameter");return currentDeclarationSuite.markedPending&&suite.pend(),addSpecsToSuite(suite,specDefinitions),suite},this.xdescribe=function(description,specDefinitions){var suite=suiteFactory(description);return suite.pend(),addSpecsToSuite(suite,specDefinitions),suite};var focusedRunnables=[];this.fdescribe=function(description,specDefinitions){var suite=suiteFactory(description);return suite.isFocused=!0,focusedRunnables.push(suite.id),unfocusAncestor(),addSpecsToSuite(suite,specDefinitions),suite};var specFactory=function(description,fn,suite,timeout){function specResultCallback(result){clearResourcesForRunnable(spec.id),currentSpec=null,reporter.specDone(result)}function specStarted(spec){currentSpec=spec,defaultResourcesForRunnable(spec.id,suite.id),reporter.specStarted(spec.result)}totalSpecsDefined++;var spec=new j$.Spec({id:getNextSpecId(),beforeAndAfterFns:beforeAndAfterFns(suite),expectationFactory:expectationFactory,resultCallback:specResultCallback,getSpecName:function(spec){return getSpecName(spec,suite)},onStart:specStarted,description:description,expectationResultFactory:expectationResultFactory,queueRunnerFactory:queueRunnerFactory,userContext:function(){return suite.clonedSharedUserContext()},queueableFn:{fn:fn,timeout:function(){return timeout||j$.DEFAULT_TIMEOUT_INTERVAL}},throwOnExpectationFailure:throwOnExpectationFailure});return runnableLookupTable[spec.id]=spec,self.specFilter(spec)||spec.disable(),spec};this.it=function(description,fn,timeout){var spec=specFactory(description,fn,currentDeclarationSuite,timeout);return currentDeclarationSuite.markedPending&&spec.pend(),currentDeclarationSuite.addChild(spec),spec},this.xit=function(){var spec=this.it.apply(this,arguments);return spec.pend("Temporarily disabled with xit"),spec},this.fit=function(description,fn,timeout){var spec=specFactory(description,fn,currentDeclarationSuite,timeout);return currentDeclarationSuite.addChild(spec),focusedRunnables.push(spec.id),unfocusAncestor(),spec},this.expect=function(actual){if(!currentRunnable())throw new Error("'expect' was used when there was no current spec, this could be because an asynchronous test timed out");return currentRunnable().expect(actual)},this.beforeEach=function(beforeEachFunction,timeout){currentDeclarationSuite.beforeEach({fn:beforeEachFunction,timeout:function(){return timeout||j$.DEFAULT_TIMEOUT_INTERVAL}})},this.beforeAll=function(beforeAllFunction,timeout){currentDeclarationSuite.beforeAll({fn:beforeAllFunction,timeout:function(){return timeout||j$.DEFAULT_TIMEOUT_INTERVAL}})},this.afterEach=function(afterEachFunction,timeout){currentDeclarationSuite.afterEach({fn:afterEachFunction,timeout:function(){return timeout||j$.DEFAULT_TIMEOUT_INTERVAL}})},this.afterAll=function(afterAllFunction,timeout){currentDeclarationSuite.afterAll({fn:afterAllFunction,timeout:function(){return timeout||j$.DEFAULT_TIMEOUT_INTERVAL}})},this.pending=function(message){var fullMessage=j$.Spec.pendingSpecExceptionMessage;throw message&&(fullMessage+=message),fullMessage},this.fail=function(error){var message="Failed";error&&(message+=": ",message+=error.message||error),currentRunnable().addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",message:message,error:error&&error.message?error:null})}}return Env},getJasmineRequireObj().JsApiReporter=function(){function JsApiReporter(options){function storeSuite(result){suites.push(result),suites_hash[result.id]=result}var timer=options.timer||noopTimer,status="loaded";this.started=!1,this.finished=!1,this.runDetails={},this.jasmineStarted=function(){this.started=!0,status="started",timer.start()};var executionTime;this.jasmineDone=function(runDetails){this.finished=!0,this.runDetails=runDetails,executionTime=timer.elapsed(),status="done"},this.status=function(){return status};var suites=[],suites_hash={};this.suiteStarted=function(result){suites_hash[result.id]=result},this.suiteDone=function(result){storeSuite(result)},this.suiteResults=function(index,length){return suites.slice(index,index+length)},this.suites=function(){return suites_hash};var specs=[];this.specDone=function(result){specs.push(result)},this.specResults=function(index,length){return specs.slice(index,index+length)},this.specs=function(){return specs},this.executionTime=function(){return executionTime}}var noopTimer={start:function(){},elapsed:function(){return 0}};return JsApiReporter},getJasmineRequireObj().CallTracker=function(){function CallTracker(){var calls=[];this.track=function(context){calls.push(context)},this.any=function(){return!!calls.length},this.count=function(){return calls.length},this.argsFor=function(index){var call=calls[index];return call?call.args:[]},this.all=function(){return calls},this.allArgs=function(){for(var callArgs=[],i=0;i<calls.length;i++)callArgs.push(calls[i].args);return callArgs},this.first=function(){return calls[0]},this.mostRecent=function(){return calls[calls.length-1]},this.reset=function(){calls=[]}}return CallTracker},getJasmineRequireObj().Clock=function(){function Clock(global,delayedFunctionSchedulerFactory,mockDate){function originalTimingFunctionsIntact(){return global.setTimeout===realTimingFunctions.setTimeout&&global.clearTimeout===realTimingFunctions.clearTimeout&&global.setInterval===realTimingFunctions.setInterval&&global.clearInterval===realTimingFunctions.clearInterval}function legacyIE(){return!(realTimingFunctions.setTimeout||realTimingFunctions.setInterval).apply}function replace(dest,source){for(var prop in source)dest[prop]=source[prop]}function setTimeout(fn,delay){return delayedFunctionScheduler.scheduleFunction(fn,delay,argSlice(arguments,2))}function clearTimeout(id){return delayedFunctionScheduler.removeFunctionWithId(id)}function setInterval(fn,interval){return delayedFunctionScheduler.scheduleFunction(fn,interval,argSlice(arguments,2),!0)}function clearInterval(id){return delayedFunctionScheduler.removeFunctionWithId(id)}function argSlice(argsObj,n){return Array.prototype.slice.call(argsObj,n)}var delayedFunctionScheduler,timer,self=this,realTimingFunctions={setTimeout:global.setTimeout,clearTimeout:global.clearTimeout,setInterval:global.setInterval,clearInterval:global.clearInterval},fakeTimingFunctions={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval},installed=!1;return self.install=function(){if(!originalTimingFunctionsIntact())throw new Error("Jasmine Clock was unable to install over custom global timer functions. Is the clock already installed?");return replace(global,fakeTimingFunctions),timer=fakeTimingFunctions,delayedFunctionScheduler=delayedFunctionSchedulerFactory(),installed=!0,self},self.uninstall=function(){delayedFunctionScheduler=null,mockDate.uninstall(),replace(global,realTimingFunctions),timer=realTimingFunctions,installed=!1},self.withMock=function(closure){this.install();try{closure()}finally{this.uninstall()}},self.mockDate=function(initialDate){mockDate.install(initialDate)},self.setTimeout=function(fn,delay,params){if(legacyIE()){if(arguments.length>2)throw new Error("IE < 9 cannot support extra params to setTimeout without a polyfill");return timer.setTimeout(fn,delay)}return Function.prototype.apply.apply(timer.setTimeout,[global,arguments])},self.setInterval=function(fn,delay,params){if(legacyIE()){if(arguments.length>2)throw new Error("IE < 9 cannot support extra params to setInterval without a polyfill");return timer.setInterval(fn,delay)}return Function.prototype.apply.apply(timer.setInterval,[global,arguments])},self.clearTimeout=function(id){return Function.prototype.call.apply(timer.clearTimeout,[global,id])},self.clearInterval=function(id){return Function.prototype.call.apply(timer.clearInterval,[global,id])},self.tick=function(millis){if(!installed)throw new Error("Mock clock is not installed, use jasmine.clock().install()");mockDate.tick(millis),delayedFunctionScheduler.tick(millis)},self}return Clock},getJasmineRequireObj().DelayedFunctionScheduler=function(){function DelayedFunctionScheduler(){function indexOfFirstToPass(array,testFn){for(var index=-1,i=0;i<array.length;++i)if(testFn(array[i])){index=i;break}return index}function deleteFromLookup(key){var value=Number(key),i=indexOfFirstToPass(scheduledLookup,function(millis){return millis===value});i>-1&&scheduledLookup.splice(i,1)}function reschedule(scheduledFn){self.scheduleFunction(scheduledFn.funcToCall,scheduledFn.millis,scheduledFn.params,!0,scheduledFn.timeoutKey,scheduledFn.runAtMillis+scheduledFn.millis)}function forEachFunction(funcsToRun,callback){for(var i=0;i<funcsToRun.length;++i)callback(funcsToRun[i])}function runScheduledFunctions(endTime){if(!(0===scheduledLookup.length||scheduledLookup[0]>endTime))do{currentTime=scheduledLookup.shift();var funcsToRun=scheduledFunctions[currentTime];delete scheduledFunctions[currentTime],forEachFunction(funcsToRun,function(funcToRun){funcToRun.recurring&&reschedule(funcToRun)}),forEachFunction(funcsToRun,function(funcToRun){funcToRun.funcToCall.apply(null,funcToRun.params||[])})}while(scheduledLookup.length>0&&currentTime!==endTime&&scheduledLookup[0]<=endTime)}var self=this,scheduledLookup=[],scheduledFunctions={},currentTime=0,delayedFnCount=0;return self.tick=function(millis){millis=millis||0;var endTime=currentTime+millis;runScheduledFunctions(endTime),currentTime=endTime},self.scheduleFunction=function(funcToCall,millis,params,recurring,timeoutKey,runAtMillis){var f;f="string"==typeof funcToCall?function(){return eval(funcToCall)}:funcToCall,millis=millis||0,timeoutKey=timeoutKey||++delayedFnCount,runAtMillis=runAtMillis||currentTime+millis;var funcToSchedule={runAtMillis:runAtMillis,funcToCall:f,recurring:recurring,params:params,timeoutKey:timeoutKey,millis:millis};return runAtMillis in scheduledFunctions?scheduledFunctions[runAtMillis].push(funcToSchedule):(scheduledFunctions[runAtMillis]=[funcToSchedule],scheduledLookup.push(runAtMillis),scheduledLookup.sort(function(a,b){return a-b})),timeoutKey},self.removeFunctionWithId=function(timeoutKey){for(var runAtMillis in scheduledFunctions){var funcs=scheduledFunctions[runAtMillis],i=indexOfFirstToPass(funcs,function(func){return func.timeoutKey===timeoutKey});if(i>-1){1===funcs.length?(delete scheduledFunctions[runAtMillis],deleteFromLookup(runAtMillis)):funcs.splice(i,1);break}}},self}return DelayedFunctionScheduler},getJasmineRequireObj().ExceptionFormatter=function(){function ExceptionFormatter(){this.message=function(error){var message="";return message+=error.name&&error.message?error.name+": "+error.message:error.toString()+" thrown",(error.fileName||error.sourceURL)&&(message+=" in "+(error.fileName||error.sourceURL)),(error.line||error.lineNumber)&&(message+=" (line "+(error.line||error.lineNumber)+")"),message},this.stack=function(error){return error?error.stack:null}}return ExceptionFormatter},getJasmineRequireObj().Expectation=function(){function Expectation(options){this.util=options.util||{buildFailureMessage:function(){}},this.customEqualityTesters=options.customEqualityTesters||[],this.actual=options.actual,this.addExpectationResult=options.addExpectationResult||function(){},this.isNot=options.isNot;var customMatchers=options.customMatchers||{};for(var matcherName in customMatchers)this[matcherName]=Expectation.prototype.wrapCompare(matcherName,customMatchers[matcherName])}return Expectation.prototype.wrapCompare=function(name,matcherFactory){return function(){function defaultNegativeCompare(){var result=matcher.compare.apply(null,args);return result.pass=!result.pass,result}var args=Array.prototype.slice.call(arguments,0),expected=args.slice(0),message="";args.unshift(this.actual);var matcher=matcherFactory(this.util,this.customEqualityTesters),matcherCompare=matcher.compare;this.isNot&&(matcherCompare=matcher.negativeCompare||defaultNegativeCompare);var result=matcherCompare.apply(null,args);result.pass||(result.message?message="[object Function]"===Object.prototype.toString.apply(result.message)?result.message():result.message:(args.unshift(this.isNot),args.unshift(name),message=this.util.buildFailureMessage.apply(null,args))),1==expected.length&&(expected=expected[0]),this.addExpectationResult(result.pass,{matcherName:name,passed:result.pass,message:message,actual:this.actual,expected:expected})}},Expectation.addCoreMatchers=function(matchers){var prototype=Expectation.prototype;for(var matcherName in matchers){var matcher=matchers[matcherName];prototype[matcherName]=prototype.wrapCompare(matcherName,matcher)}},Expectation.Factory=function(options){options=options||{};var expect=new Expectation(options);return options.isNot=!0,expect.not=new Expectation(options),expect},Expectation},getJasmineRequireObj().buildExpectationResult=function(){function buildExpectationResult(options){function message(){return options.passed?"Passed.":options.message?options.message:options.error?messageFormatter(options.error):""}function stack(){if(options.passed)return"";var error=options.error;if(!error)try{throw new Error(message())}catch(e){error=e}return stackFormatter(error)}var messageFormatter=options.messageFormatter||function(){},stackFormatter=options.stackFormatter||function(){},result={matcherName:options.matcherName,message:message(),stack:stack(),passed:options.passed};return result.passed||(result.expected=options.expected,result.actual=options.actual),result}return buildExpectationResult},getJasmineRequireObj().MockDate=function(){function MockDate(global){function FakeDate(){switch(arguments.length){case 0:return new GlobalDate(currentTime);case 1:return new GlobalDate(arguments[0]);case 2:return new GlobalDate(arguments[0],arguments[1]);case 3:return new GlobalDate(arguments[0],arguments[1],arguments[2]);case 4:return new GlobalDate(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return new GlobalDate(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return new GlobalDate(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:return new GlobalDate(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}function createDateProperties(){FakeDate.prototype=GlobalDate.prototype,FakeDate.now=function(){if(GlobalDate.now)return currentTime;throw new Error("Browser does not support Date.now()")},FakeDate.toSource=GlobalDate.toSource,FakeDate.toString=GlobalDate.toString,FakeDate.parse=GlobalDate.parse,FakeDate.UTC=GlobalDate.UTC}var self=this,currentTime=0;if(!global||!global.Date)return self.install=function(){},self.tick=function(){},self.uninstall=function(){},self;var GlobalDate=global.Date;return self.install=function(mockDate){currentTime=mockDate instanceof GlobalDate?mockDate.getTime():(new GlobalDate).getTime(),global.Date=FakeDate},self.tick=function(millis){millis=millis||0,currentTime+=millis},self.uninstall=function(){currentTime=0,global.Date=GlobalDate},createDateProperties(),self}return MockDate},getJasmineRequireObj().pp=function(j$){function PrettyPrinter(){this.ppNestLevel_=0,this.seen=[]}function StringPrettyPrinter(){PrettyPrinter.call(this),this.string=""}return PrettyPrinter.prototype.format=function(value){this.ppNestLevel_++;try{j$.util.isUndefined(value)?this.emitScalar("undefined"):null===value?this.emitScalar("null"):0===value&&1/value===-(1/0)?this.emitScalar("-0"):value===j$.getGlobal()?this.emitScalar("<global>"):value.jasmineToString?this.emitScalar(value.jasmineToString()):"string"==typeof value?this.emitString(value):j$.isSpy(value)?this.emitScalar("spy on "+value.and.identity()):value instanceof RegExp?this.emitScalar(value.toString()):"function"==typeof value?this.emitScalar("Function"):"number"==typeof value.nodeType?this.emitScalar("HTMLNode"):value instanceof Date?this.emitScalar("Date("+value+")"):!value.toString||"object"!=typeof value||value instanceof Array||value.toString===Object.prototype.toString?j$.util.arrayContains(this.seen,value)?this.emitScalar("<circular reference: "+(j$.isArray_(value)?"Array":"Object")+">"):j$.isArray_(value)||j$.isA_("Object",value)?(this.seen.push(value),
j$.isArray_(value)?this.emitArray(value):this.emitObject(value),this.seen.pop()):this.emitScalar(value.toString()):this.emitScalar(value.toString())}finally{this.ppNestLevel_--}},PrettyPrinter.prototype.iterateObject=function(obj,fn){for(var property in obj)Object.prototype.hasOwnProperty.call(obj,property)&&fn(property,!!obj.__lookupGetter__&&(!j$.util.isUndefined(obj.__lookupGetter__(property))&&null!==obj.__lookupGetter__(property)))},PrettyPrinter.prototype.emitArray=j$.unimplementedMethod_,PrettyPrinter.prototype.emitObject=j$.unimplementedMethod_,PrettyPrinter.prototype.emitScalar=j$.unimplementedMethod_,PrettyPrinter.prototype.emitString=j$.unimplementedMethod_,j$.util.inherit(StringPrettyPrinter,PrettyPrinter),StringPrettyPrinter.prototype.emitScalar=function(value){this.append(value)},StringPrettyPrinter.prototype.emitString=function(value){this.append("'"+value+"'")},StringPrettyPrinter.prototype.emitArray=function(array){if(this.ppNestLevel_>j$.MAX_PRETTY_PRINT_DEPTH)return void this.append("Array");var length=Math.min(array.length,j$.MAX_PRETTY_PRINT_ARRAY_LENGTH);this.append("[ ");for(var i=0;i<length;i++)i>0&&this.append(", "),this.format(array[i]);array.length>length&&this.append(", ...");var self=this,first=0===array.length;this.iterateObject(array,function(property,isGetter){property.match(/^\d+$/)||(first?first=!1:self.append(", "),self.formatProperty(array,property,isGetter))}),this.append(" ]")},StringPrettyPrinter.prototype.emitObject=function(obj){var constructorName=obj.constructor?j$.fnNameFor(obj.constructor):"null";if(this.append(constructorName),!(this.ppNestLevel_>j$.MAX_PRETTY_PRINT_DEPTH)){var self=this;this.append("({ ");var first=!0;this.iterateObject(obj,function(property,isGetter){first?first=!1:self.append(", "),self.formatProperty(obj,property,isGetter)}),this.append(" })")}},StringPrettyPrinter.prototype.formatProperty=function(obj,property,isGetter){this.append(property),this.append(": "),isGetter?this.append("<getter>"):this.format(obj[property])},StringPrettyPrinter.prototype.append=function(value){this.string+=value},function(value){var stringPrettyPrinter=new StringPrettyPrinter;return stringPrettyPrinter.format(value),stringPrettyPrinter.string}},getJasmineRequireObj().QueueRunner=function(j$){function once(fn){var called=!1;return function(){called||(called=!0,fn())}}function QueueRunner(attrs){this.queueableFns=attrs.queueableFns||[],this.onComplete=attrs.onComplete||function(){},this.clearStack=attrs.clearStack||function(fn){fn()},this.onException=attrs.onException||function(){},this.catchException=attrs.catchException||function(){return!0},this.userContext=attrs.userContext||{},this.timeout=attrs.timeout||{setTimeout:setTimeout,clearTimeout:clearTimeout},this.fail=attrs.fail||function(){}}return QueueRunner.prototype.execute=function(){this.run(this.queueableFns,0)},QueueRunner.prototype.run=function(queueableFns,recursiveIndex){function attemptSync(queueableFn){try{queueableFn.fn.call(self.userContext)}catch(e){handleException(e,queueableFn)}}function attemptAsync(queueableFn){var timeoutId,clearTimeout=function(){Function.prototype.apply.apply(self.timeout.clearTimeout,[j$.getGlobal(),[timeoutId]])},next=once(function(){clearTimeout(timeoutId),self.run(queueableFns,iterativeIndex+1)});next.fail=function(){self.fail.apply(null,arguments),next()},queueableFn.timeout&&(timeoutId=Function.prototype.apply.apply(self.timeout.setTimeout,[j$.getGlobal(),[function(){var error=new Error("Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.");onException(error),next()},queueableFn.timeout()]]));try{queueableFn.fn.call(self.userContext,next)}catch(e){handleException(e,queueableFn),next()}}function onException(e){self.onException(e)}function handleException(e,queueableFn){if(onException(e),!self.catchException(e))throw e}var iterativeIndex,length=queueableFns.length,self=this;for(iterativeIndex=recursiveIndex;iterativeIndex<length;iterativeIndex++){var queueableFn=queueableFns[iterativeIndex];if(queueableFn.fn.length>0)return void attemptAsync(queueableFn);attemptSync(queueableFn)}var runnerDone=iterativeIndex>=length;runnerDone&&this.clearStack(this.onComplete)},QueueRunner},getJasmineRequireObj().ReportDispatcher=function(){function ReportDispatcher(methods){function dispatch(method,args){for(var i=0;i<reporters.length;i++){var reporter=reporters[i];reporter[method]&&reporter[method].apply(reporter,args)}}for(var dispatchedMethods=methods||[],i=0;i<dispatchedMethods.length;i++){var method=dispatchedMethods[i];this[method]=function(m){return function(){dispatch(m,arguments)}}(method)}var reporters=[];return this.addReporter=function(reporter){reporters.push(reporter)},this}return ReportDispatcher},getJasmineRequireObj().SpyRegistry=function(j$){function SpyRegistry(options){options=options||{};var currentSpies=options.currentSpies||function(){return[]};this.spyOn=function(obj,methodName){if(j$.util.isUndefined(obj))throw new Error("spyOn could not find an object to spy upon for "+methodName+"()");if(j$.util.isUndefined(methodName))throw new Error("No method name supplied");if(j$.util.isUndefined(obj[methodName]))throw new Error(methodName+"() method does not exist");if(obj[methodName]&&j$.isSpy(obj[methodName]))throw new Error(methodName+" has already been spied upon");var descriptor;try{descriptor=Object.getOwnPropertyDescriptor(obj,methodName)}catch(e){}if(descriptor&&!descriptor.writable&&!descriptor.set)throw new Error(methodName+" is not declared writable or has no setter");var spy=j$.createSpy(methodName,obj[methodName]);return currentSpies().push({spy:spy,baseObj:obj,methodName:methodName,originalValue:obj[methodName]}),obj[methodName]=spy,spy},this.clearSpies=function(){for(var spies=currentSpies(),i=0;i<spies.length;i++){var spyEntry=spies[i];spyEntry.baseObj[spyEntry.methodName]=spyEntry.originalValue}}}return SpyRegistry},getJasmineRequireObj().SpyStrategy=function(){function SpyStrategy(options){options=options||{};var identity=options.name||"unknown",originalFn=options.fn||function(){},getSpy=options.getSpy||function(){},plan=function(){};this.identity=function(){return identity},this.exec=function(){return plan.apply(this,arguments)},this.callThrough=function(){return plan=originalFn,getSpy()},this.returnValue=function(value){return plan=function(){return value},getSpy()},this.returnValues=function(){var values=Array.prototype.slice.call(arguments);return plan=function(){return values.shift()},getSpy()},this.throwError=function(something){var error=something instanceof Error?something:new Error(something);return plan=function(){throw error},getSpy()},this.callFake=function(fn){return plan=fn,getSpy()},this.stub=function(fn){return plan=function(){},getSpy()}}return SpyStrategy},getJasmineRequireObj().Suite=function(j$){function Suite(attrs){this.env=attrs.env,this.id=attrs.id,this.parentSuite=attrs.parentSuite,this.description=attrs.description,this.expectationFactory=attrs.expectationFactory,this.expectationResultFactory=attrs.expectationResultFactory,this.throwOnExpectationFailure=!!attrs.throwOnExpectationFailure,this.beforeFns=[],this.afterFns=[],this.beforeAllFns=[],this.afterAllFns=[],this.disabled=!1,this.children=[],this.result={id:this.id,description:this.description,fullName:this.getFullName(),failedExpectations:[]}}function isAfterAll(children){return children&&children[0].result.status}function isFailure(args){return!args[0]}function clone(obj){var clonedObj={};for(var prop in obj)obj.hasOwnProperty(prop)&&(clonedObj[prop]=obj[prop]);return clonedObj}return Suite.prototype.expect=function(actual){return this.expectationFactory(actual,this)},Suite.prototype.getFullName=function(){for(var fullName=this.description,parentSuite=this.parentSuite;parentSuite;parentSuite=parentSuite.parentSuite)parentSuite.parentSuite&&(fullName=parentSuite.description+" "+fullName);return fullName},Suite.prototype.disable=function(){this.disabled=!0},Suite.prototype.pend=function(message){this.markedPending=!0},Suite.prototype.beforeEach=function(fn){this.beforeFns.unshift(fn)},Suite.prototype.beforeAll=function(fn){this.beforeAllFns.push(fn)},Suite.prototype.afterEach=function(fn){this.afterFns.unshift(fn)},Suite.prototype.afterAll=function(fn){this.afterAllFns.push(fn)},Suite.prototype.addChild=function(child){this.children.push(child)},Suite.prototype.status=function(){return this.disabled?"disabled":this.markedPending?"pending":this.result.failedExpectations.length>0?"failed":"finished"},Suite.prototype.isExecutable=function(){return!this.disabled},Suite.prototype.canBeReentered=function(){return 0===this.beforeAllFns.length&&0===this.afterAllFns.length},Suite.prototype.getResult=function(){return this.result.status=this.status(),this.result},Suite.prototype.sharedUserContext=function(){return this.sharedContext||(this.sharedContext=this.parentSuite?clone(this.parentSuite.sharedUserContext()):{}),this.sharedContext},Suite.prototype.clonedSharedUserContext=function(){return clone(this.sharedUserContext())},Suite.prototype.onException=function(){if(!(arguments[0]instanceof j$.errors.ExpectationFailed))if(isAfterAll(this.children)){var data={matcherName:"",passed:!1,expected:"",actual:"",error:arguments[0]};this.result.failedExpectations.push(this.expectationResultFactory(data))}else for(var i=0;i<this.children.length;i++){var child=this.children[i];child.onException.apply(child,arguments)}},Suite.prototype.addExpectationResult=function(){if(isAfterAll(this.children)&&isFailure(arguments)){var data=arguments[1];if(this.result.failedExpectations.push(this.expectationResultFactory(data)),this.throwOnExpectationFailure)throw new j$.errors.ExpectationFailed}else for(var i=0;i<this.children.length;i++){var child=this.children[i];try{child.addExpectationResult.apply(child,arguments)}catch(e){}}},Suite},void 0==typeof window&&"object"==typeof exports&&(exports.Suite=jasmineRequire.Suite),getJasmineRequireObj().Timer=function(){function Timer(options){options=options||{};var startTime,now=options.now||defaultNow;this.start=function(){startTime=now()},this.elapsed=function(){return now()-startTime}}var defaultNow=function(Date){return function(){return(new Date).getTime()}}(Date);return Timer},getJasmineRequireObj().TreeProcessor=function(){function TreeProcessor(attrs){function runnableIndex(id){for(var i=0;i<runnableIds.length;i++)if(runnableIds[i]===id)return i}function processNode(node,parentEnabled){var executableIndex=runnableIndex(node.id);if(void 0!==executableIndex&&(parentEnabled=!0),parentEnabled=parentEnabled&&node.isExecutable(),node.children){for(var hasExecutableChild=!1,orderedChildren=orderChildren(node),i=0;i<orderedChildren.length;i++){var child=orderedChildren[i];if(processNode(child,parentEnabled),!stats.valid)return;var childStats=stats[child.id];hasExecutableChild=hasExecutableChild||childStats.executable}stats[node.id]={executable:hasExecutableChild},segmentChildren(node,orderedChildren,stats[node.id],executableIndex),!node.canBeReentered()&&stats[node.id].segments.length>1&&(stats={valid:!1})}else stats[node.id]={executable:parentEnabled&&node.isExecutable(),segments:[{index:0,owner:node,nodes:[node],min:startingMin(executableIndex),max:startingMax(executableIndex)}]}}function startingMin(executableIndex){return void 0===executableIndex?defaultMin:executableIndex}function startingMax(executableIndex){return void 0===executableIndex?defaultMax:executableIndex}function segmentChildren(node,orderedChildren,nodeStats,executableIndex){function isSegmentBoundary(minIndex){return lastMax!==defaultMax&&minIndex!==defaultMin&&lastMax<minIndex-1}for(var currentSegment={index:0,owner:node,nodes:[],min:startingMin(executableIndex),max:startingMax(executableIndex)},result=[currentSegment],lastMax=defaultMax,orderedChildSegments=orderChildSegments(orderedChildren),i=0;i<orderedChildSegments.length;i++){var childSegment=orderedChildSegments[i],maxIndex=childSegment.max,minIndex=childSegment.min;isSegmentBoundary(minIndex)&&(currentSegment={index:result.length,owner:node,nodes:[],min:defaultMin,max:defaultMax},result.push(currentSegment)),currentSegment.nodes.push(childSegment),currentSegment.min=Math.min(currentSegment.min,minIndex),currentSegment.max=Math.max(currentSegment.max,maxIndex),lastMax=maxIndex}nodeStats.segments=result}function orderChildSegments(children){for(var specifiedOrder=[],unspecifiedOrder=[],i=0;i<children.length;i++)for(var child=children[i],segments=stats[child.id].segments,j=0;j<segments.length;j++){var seg=segments[j];seg.min===defaultMin?unspecifiedOrder.push(seg):specifiedOrder.push(seg)}return specifiedOrder.sort(function(a,b){return a.min-b.min}),specifiedOrder.concat(unspecifiedOrder)}function executeNode(node,segmentNumber){return node.children?{fn:function(done){nodeStart(node),queueRunnerFactory({onComplete:function(){nodeComplete(node,node.getResult()),done()},queueableFns:wrapChildren(node,segmentNumber),userContext:node.sharedUserContext(),onException:function(){node.onException.apply(node,arguments)}})}}:{fn:function(done){node.execute(done,stats[node.id].executable)}}}function wrapChildren(node,segmentNumber){for(var result=[],segmentChildren=stats[node.id].segments[segmentNumber].nodes,i=0;i<segmentChildren.length;i++)result.push(executeNode(segmentChildren[i].owner,segmentChildren[i].index));return stats[node.id].executable?node.beforeAllFns.concat(result).concat(node.afterAllFns):result}var tree=attrs.tree,runnableIds=attrs.runnableIds,queueRunnerFactory=attrs.queueRunnerFactory,nodeStart=attrs.nodeStart||function(){},nodeComplete=attrs.nodeComplete||function(){},orderChildren=attrs.orderChildren||function(node){return node.children},stats={valid:!0},processed=!1,defaultMin=1/0,defaultMax=1-1/0;this.processTree=function(){return processNode(tree,!1),processed=!0,stats},this.execute=function(done){if(processed||this.processTree(),!stats.valid)throw"invalid order";var childFns=wrapChildren(tree,0);queueRunnerFactory({queueableFns:childFns,userContext:tree.sharedUserContext(),onException:function(){tree.onException.apply(tree,arguments)},onComplete:done})}}return TreeProcessor},getJasmineRequireObj().Any=function(j$){function Any(expectedObject){if("undefined"==typeof expectedObject)throw new TypeError("jasmine.any() expects to be passed a constructor function. Please pass one or use jasmine.anything() to match any object.");this.expectedObject=expectedObject}return Any.prototype.asymmetricMatch=function(other){return this.expectedObject==String?"string"==typeof other||other instanceof String:this.expectedObject==Number?"number"==typeof other||other instanceof Number:this.expectedObject==Function?"function"==typeof other||other instanceof Function:this.expectedObject==Object?"object"==typeof other:this.expectedObject==Boolean?"boolean"==typeof other:other instanceof this.expectedObject},Any.prototype.jasmineToString=function(){return"<jasmine.any("+j$.fnNameFor(this.expectedObject)+")>"},Any},getJasmineRequireObj().Anything=function(j$){function Anything(){}return Anything.prototype.asymmetricMatch=function(other){return!j$.util.isUndefined(other)&&null!==other},Anything.prototype.jasmineToString=function(){return"<jasmine.anything>"},Anything},getJasmineRequireObj().ArrayContaining=function(j$){function ArrayContaining(sample){this.sample=sample}return ArrayContaining.prototype.asymmetricMatch=function(other){var className=Object.prototype.toString.call(this.sample);if("[object Array]"!==className)throw new Error("You must provide an array to arrayContaining, not '"+this.sample+"'.");for(var i=0;i<this.sample.length;i++){var item=this.sample[i];if(!j$.matchersUtil.contains(other,item))return!1}return!0},ArrayContaining.prototype.jasmineToString=function(){return"<jasmine.arrayContaining("+jasmine.pp(this.sample)+")>"},ArrayContaining},getJasmineRequireObj().ObjectContaining=function(j$){function ObjectContaining(sample){this.sample=sample}function getPrototype(obj){return Object.getPrototypeOf?Object.getPrototypeOf(obj):obj.constructor.prototype==obj?null:obj.constructor.prototype}function hasProperty(obj,property){return!!obj&&(!!Object.prototype.hasOwnProperty.call(obj,property)||hasProperty(getPrototype(obj),property))}return ObjectContaining.prototype.asymmetricMatch=function(other){if("object"!=typeof this.sample)throw new Error("You must provide an object to objectContaining, not '"+this.sample+"'.");for(var property in this.sample)if(!hasProperty(other,property)||!j$.matchersUtil.equals(this.sample[property],other[property]))return!1;return!0},ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+j$.pp(this.sample)+")>"},ObjectContaining},getJasmineRequireObj().StringMatching=function(j$){function StringMatching(expected){if(!j$.isString_(expected)&&!j$.isA_("RegExp",expected))throw new Error("Expected is not a String or a RegExp");this.regexp=new RegExp(expected)}return StringMatching.prototype.asymmetricMatch=function(other){return this.regexp.test(other)},StringMatching.prototype.jasmineToString=function(){return"<jasmine.stringMatching("+this.regexp+")>"},StringMatching},getJasmineRequireObj().errors=function(){function ExpectationFailed(){}return ExpectationFailed.prototype=new Error,ExpectationFailed.prototype.constructor=ExpectationFailed,{ExpectationFailed:ExpectationFailed}},getJasmineRequireObj().matchersUtil=function(j$){function isAsymmetric(obj){return obj&&j$.isA_("Function",obj.asymmetricMatch)}function asymmetricMatch(a,b){var asymmetricA=isAsymmetric(a),asymmetricB=isAsymmetric(b);if(!asymmetricA||!asymmetricB)return asymmetricA?a.asymmetricMatch(b):asymmetricB?b.asymmetricMatch(a):void 0}function eq(a,b,aStack,bStack,customTesters){function has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}function isFunction(obj){return"function"==typeof obj}var result=!0,asymmetricResult=asymmetricMatch(a,b);if(!j$.util.isUndefined(asymmetricResult))return asymmetricResult;for(var i=0;i<customTesters.length;i++){var customTesterResult=customTesters[i](a,b);if(!j$.util.isUndefined(customTesterResult))return customTesterResult}if(a instanceof Error&&b instanceof Error)return a.message==b.message;if(a===b)return 0!==a||1/a==1/b;if(null===a||null===b)return a===b;var className=Object.prototype.toString.call(a);if(className!=Object.prototype.toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0===a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;var aIsDomNode=j$.isDomNode(a),bIsDomNode=j$.isDomNode(b);if(aIsDomNode&&bIsDomNode){if(a.isEqualNode)return a.isEqualNode(b);var aIsElement=a instanceof Element,bIsElement=b instanceof Element;return aIsElement&&bIsElement?a.outerHTML==b.outerHTML:!aIsElement&&!bIsElement&&(a.innerText==b.innerText&&a.textContent==b.textContent)}if(aIsDomNode||bIsDomNode)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;aStack.push(a),bStack.push(b);var size=0;if("[object Array]"==className&&a.length!==b.length&&(result=!1),result){if("[object Array]"!==className){var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(isFunction(aCtor)&&aCtor instanceof aCtor&&isFunction(bCtor)&&bCtor instanceof bCtor))return!1}for(var key in a)if(has(a,key)&&(size++,!(result=has(b,key)&&eq(a[key],b[key],aStack,bStack,customTesters))))break;if(result){for(key in b)if(has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result}return{equals:function(a,b,customTesters){return customTesters=customTesters||[],eq(a,b,[],[],customTesters)},contains:function(haystack,needle,customTesters){if(customTesters=customTesters||[],"[object Array]"===Object.prototype.toString.apply(haystack)||haystack&&!haystack.indexOf){for(var i=0;i<haystack.length;i++)if(eq(haystack[i],needle,[],[],customTesters))return!0;return!1}return!!haystack&&haystack.indexOf(needle)>=0},buildFailureMessage:function(){var args=Array.prototype.slice.call(arguments,0),matcherName=args[0],isNot=args[1],actual=args[2],expected=args.slice(3),englishyPredicate=matcherName.replace(/[A-Z]/g,function(s){return" "+s.toLowerCase()}),message="Expected "+j$.pp(actual)+(isNot?" not ":" ")+englishyPredicate;if(expected.length>0)for(var i=0;i<expected.length;i++)i>0&&(message+=","),message+=" "+j$.pp(expected[i]);return message+"."}}},getJasmineRequireObj().toBe=function(){function toBe(){return{compare:function(actual,expected){return{pass:actual===expected}}}}return toBe},getJasmineRequireObj().toBeCloseTo=function(){function toBeCloseTo(){return{compare:function(actual,expected,precision){return 0!==precision&&(precision=precision||2),{pass:Math.abs(expected-actual)<Math.pow(10,-precision)/2}}}}return toBeCloseTo},getJasmineRequireObj().toBeDefined=function(){function toBeDefined(){return{compare:function(actual){return{pass:void 0!==actual}}}}return toBeDefined},getJasmineRequireObj().toBeFalsy=function(){function toBeFalsy(){return{compare:function(actual){return{pass:!actual}}}}return toBeFalsy},getJasmineRequireObj().toBeGreaterThan=function(){function toBeGreaterThan(){return{compare:function(actual,expected){return{pass:actual>expected}}}}return toBeGreaterThan},getJasmineRequireObj().toBeLessThan=function(){function toBeLessThan(){return{compare:function(actual,expected){return{pass:actual<expected}}}}return toBeLessThan},getJasmineRequireObj().toBeNaN=function(j$){function toBeNaN(){return{compare:function(actual){var result={pass:actual!==actual};return result.pass?result.message="Expected actual not to be NaN.":result.message=function(){return"Expected "+j$.pp(actual)+" to be NaN."},result}}}return toBeNaN},getJasmineRequireObj().toBeNull=function(){function toBeNull(){return{compare:function(actual){return{pass:null===actual}}}}return toBeNull},getJasmineRequireObj().toBeTruthy=function(){function toBeTruthy(){return{compare:function(actual){return{pass:!!actual}}}}return toBeTruthy},getJasmineRequireObj().toBeUndefined=function(){function toBeUndefined(){return{compare:function(actual){return{pass:void 0===actual}}}}return toBeUndefined},getJasmineRequireObj().toContain=function(){function toContain(util,customEqualityTesters){return customEqualityTesters=customEqualityTesters||[],{compare:function(actual,expected){return{pass:util.contains(actual,expected,customEqualityTesters)}}}}return toContain},getJasmineRequireObj().toEqual=function(){function toEqual(util,customEqualityTesters){return customEqualityTesters=customEqualityTesters||[],{compare:function(actual,expected){var result={pass:!1};return result.pass=util.equals(actual,expected,customEqualityTesters),result}}}return toEqual},getJasmineRequireObj().toHaveBeenCalled=function(j$){function toHaveBeenCalled(){return{compare:function(actual){var result={};if(!j$.isSpy(actual))throw new Error("Expected a spy, but got "+j$.pp(actual)+".");if(arguments.length>1)throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith");return result.pass=actual.calls.any(),result.message=result.pass?"Expected spy "+actual.and.identity()+" not to have been called.":"Expected spy "+actual.and.identity()+" to have been called.",result}}}return toHaveBeenCalled},getJasmineRequireObj().toHaveBeenCalledTimes=function(j$){function toHaveBeenCalledTimes(){return{compare:function(actual,expected){if(!j$.isSpy(actual))throw new Error("Expected a spy, but got "+j$.pp(actual)+".");var args=Array.prototype.slice.call(arguments,0),result={pass:!1};if(!expected)throw new Error("Expected times failed is required as an argument.");actual=args[0];var calls=actual.calls.count(),timesMessage=1===expected?"once":expected+" times";return result.pass=calls===expected,result.message=result.pass?"Expected spy "+actual.and.identity()+" not to have been called "+timesMessage+". It was called "+calls+" times.":"Expected spy "+actual.and.identity()+" to have been called "+timesMessage+". It was called "+calls+" times.",result}}}return toHaveBeenCalledTimes},getJasmineRequireObj().toHaveBeenCalledWith=function(j$){function toHaveBeenCalledWith(util,customEqualityTesters){return{compare:function(){var args=Array.prototype.slice.call(arguments,0),actual=args[0],expectedArgs=args.slice(1),result={pass:!1};if(!j$.isSpy(actual))throw new Error("Expected a spy, but got "+j$.pp(actual)+".");return actual.calls.any()?(util.contains(actual.calls.allArgs(),expectedArgs,customEqualityTesters)?(result.pass=!0,result.message=function(){return"Expected spy "+actual.and.identity()+" not to have been called with "+j$.pp(expectedArgs)+" but it was."}):result.message=function(){return"Expected spy "+actual.and.identity()+" to have been called with "+j$.pp(expectedArgs)+" but actual calls were "+j$.pp(actual.calls.allArgs()).replace(/^\[ | \]$/g,"")+"."},result):(result.message=function(){return"Expected spy "+actual.and.identity()+" to have been called with "+j$.pp(expectedArgs)+" but it was never called."},result)}}}return toHaveBeenCalledWith},getJasmineRequireObj().toMatch=function(j$){function toMatch(){return{compare:function(actual,expected){if(!j$.isString_(expected)&&!j$.isA_("RegExp",expected))throw new Error("Expected is not a String or a RegExp");var regexp=new RegExp(expected);return{pass:regexp.test(actual)}}}}return toMatch},getJasmineRequireObj().toThrow=function(j$){function toThrow(util){return{compare:function(actual,expected){var thrown,result={pass:!1},threw=!1;if("function"!=typeof actual)throw new Error("Actual is not a Function");try{actual()}catch(e){threw=!0,thrown=e}return threw?1==arguments.length?(result.pass=!0,result.message=function(){return"Expected function not to throw, but it threw "+j$.pp(thrown)+"."},result):(util.equals(thrown,expected)?(result.pass=!0,result.message=function(){return"Expected function not to throw "+j$.pp(expected)+"."}):result.message=function(){return"Expected function to throw "+j$.pp(expected)+", but it threw "+j$.pp(thrown)+"."},result):(result.message="Expected function to throw an exception.",result)}}}return toThrow},getJasmineRequireObj().toThrowError=function(j$){function toThrowError(){function getMatcher(){function messageMatch(message){return"string"==typeof expected?expected==message:expected.test(message)}var expected=null,errorType=null;if(2==arguments.length)expected=arguments[1],isAnErrorType(expected)&&(errorType=expected,expected=null);else if(arguments.length>2&&(errorType=arguments[1],expected=arguments[2],!isAnErrorType(errorType)))throw new Error("Expected error type is not an Error.");if(expected&&!isStringOrRegExp(expected))throw errorType?new Error("Expected error message is not a string or RegExp."):new Error("Expected is not an Error, string, or RegExp.");return{errorTypeDescription:errorType?j$.fnNameFor(errorType):"an exception",thrownDescription:function(thrown){var thrownName=errorType?j$.fnNameFor(thrown.constructor):"an exception",thrownMessage="";return expected&&(thrownMessage=" with message "+j$.pp(thrown.message)),thrownName+thrownMessage},messageDescription:function(){return null===expected?"":expected instanceof RegExp?" with a message matching "+j$.pp(expected):" with message "+j$.pp(expected)},hasNoSpecifics:function(){return null===expected&&null===errorType},matches:function(error){return(null===errorType||error instanceof errorType)&&(null===expected||messageMatch(error.message))}}}function isStringOrRegExp(potential){return potential instanceof RegExp||"string"==typeof potential}function isAnErrorType(type){if("function"!=typeof type)return!1;var Surrogate=function(){};return Surrogate.prototype=type.prototype,new Surrogate instanceof Error}return{compare:function(actual){var thrown,threw=!1,pass={pass:!0},fail={pass:!1};if("function"!=typeof actual)throw new Error("Actual is not a Function");var errorMatcher=getMatcher.apply(null,arguments);try{actual()}catch(e){threw=!0,thrown=e}return threw?thrown instanceof Error?errorMatcher.hasNoSpecifics()?(pass.message="Expected function not to throw an Error, but it threw "+j$.fnNameFor(thrown)+".",pass):errorMatcher.matches(thrown)?(pass.message=function(){return"Expected function not to throw "+errorMatcher.errorTypeDescription+errorMatcher.messageDescription()+"."},pass):(fail.message=function(){return"Expected function to throw "+errorMatcher.errorTypeDescription+errorMatcher.messageDescription()+", but it threw "+errorMatcher.thrownDescription(thrown)+"."},fail):(fail.message=function(){return"Expected function to throw an Error, but it threw "+j$.pp(thrown)+"."},fail):(fail.message="Expected function to throw an Error.",fail)}}}return toThrowError},getJasmineRequireObj()["interface"]=function(jasmine,env){var jasmineInterface={describe:function(description,specDefinitions){return env.describe(description,specDefinitions)},xdescribe:function(description,specDefinitions){return env.xdescribe(description,specDefinitions)},fdescribe:function(description,specDefinitions){return env.fdescribe(description,specDefinitions)},it:function(){return env.it.apply(env,arguments)},xit:function(){return env.xit.apply(env,arguments)},fit:function(){return env.fit.apply(env,arguments)},beforeEach:function(){return env.beforeEach.apply(env,arguments)},afterEach:function(){return env.afterEach.apply(env,arguments)},beforeAll:function(){return env.beforeAll.apply(env,arguments)},afterAll:function(){return env.afterAll.apply(env,arguments)},expect:function(actual){return env.expect(actual)},pending:function(){return env.pending.apply(env,arguments)},fail:function(){return env.fail.apply(env,arguments)},spyOn:function(obj,methodName){return env.spyOn(obj,methodName)},jsApiReporter:new jasmine.JsApiReporter({timer:new jasmine.Timer}),jasmine:jasmine};return jasmine.addCustomEqualityTester=function(tester){env.addCustomEqualityTester(tester)},jasmine.addMatchers=function(matchers){return env.addMatchers(matchers)},jasmine.clock=function(){return env.clock},jasmineInterface},getJasmineRequireObj().version=function(){return"2.4.1"},jasmineRequire.html=function(j$){j$.ResultsNode=jasmineRequire.ResultsNode(),j$.HtmlReporter=jasmineRequire.HtmlReporter(j$),j$.QueryString=jasmineRequire.QueryString(),j$.HtmlSpecFilter=jasmineRequire.HtmlSpecFilter()},jasmineRequire.HtmlReporter=function(j$){function HtmlReporter(options){function find(selector){return getContainer().querySelector(".jasmine_html-reporter "+selector)}function clearPrior(){var oldReporter=find("");oldReporter&&getContainer().removeChild(oldReporter)}function createDom(type,attrs,childrenVarArgs){for(var el=createElement(type),i=2;i<arguments.length;i++){var child=arguments[i];"string"==typeof child?el.appendChild(createTextNode(child)):child&&el.appendChild(child)}for(var attr in attrs)"className"==attr?el[attr]=attrs[attr]:el.setAttribute(attr,attrs[attr]);return el}function pluralize(singular,count){var word=1==count?singular:singular+"s";return""+count+" "+word}function specHref(result){return addToExistingQueryString("spec",result.fullName)}function seedHref(seed){return addToExistingQueryString("seed",seed)}function defaultQueryString(key,value){return"?"+key+"="+value}function setMenuModeTo(mode){htmlReporterMain.setAttribute("class","jasmine_html-reporter "+mode)}function noExpectations(result){return result.failedExpectations.length+result.passedExpectations.length===0&&"passed"===result.status}var htmlReporterMain,symbols,env=options.env||{},getContainer=options.getContainer,createElement=options.createElement,createTextNode=options.createTextNode,onRaiseExceptionsClick=options.onRaiseExceptionsClick||function(){},onThrowExpectationsClick=options.onThrowExpectationsClick||function(){},onRandomClick=options.onRandomClick||function(){},addToExistingQueryString=options.addToExistingQueryString||defaultQueryString,timer=options.timer||noopTimer,specsExecuted=0,failureCount=0,pendingSpecCount=0,failedSuites=[];
this.initialize=function(){clearPrior(),htmlReporterMain=createDom("div",{className:"jasmine_html-reporter"},createDom("div",{className:"jasmine-banner"},createDom("a",{className:"jasmine-title",href:"http://jasmine.github.io/",target:"_blank"}),createDom("span",{className:"jasmine-version"},j$.version)),createDom("ul",{className:"jasmine-symbol-summary"}),createDom("div",{className:"jasmine-alert"}),createDom("div",{className:"jasmine-results"},createDom("div",{className:"jasmine-failures"}))),getContainer().appendChild(htmlReporterMain)};var totalSpecsDefined;this.jasmineStarted=function(options){totalSpecsDefined=options.totalSpecsDefined||0,timer.start()};var summary=createDom("div",{className:"jasmine-summary"}),topResults=new j$.ResultsNode({},"",null),currentParent=topResults;this.suiteStarted=function(result){currentParent.addChild(result,"suite"),currentParent=currentParent.last()},this.suiteDone=function(result){"failed"==result.status&&failedSuites.push(result),currentParent!=topResults&&(currentParent=currentParent.parent)},this.specStarted=function(result){currentParent.addChild(result,"spec")};var failures=[];return this.specDone=function(result){if(noExpectations(result)&&"undefined"!=typeof console&&"undefined"!=typeof console.error&&console.error("Spec '"+result.fullName+"' has no expectations."),"disabled"!=result.status&&specsExecuted++,symbols||(symbols=find(".jasmine-symbol-summary")),symbols.appendChild(createDom("li",{className:noExpectations(result)?"jasmine-empty":"jasmine-"+result.status,id:"spec_"+result.id,title:result.fullName})),"failed"==result.status){failureCount++;for(var failure=createDom("div",{className:"jasmine-spec-detail jasmine-failed"},createDom("div",{className:"jasmine-description"},createDom("a",{title:result.fullName,href:specHref(result)},result.fullName)),createDom("div",{className:"jasmine-messages"})),messages=failure.childNodes[1],i=0;i<result.failedExpectations.length;i++){var expectation=result.failedExpectations[i];messages.appendChild(createDom("div",{className:"jasmine-result-message"},expectation.message)),messages.appendChild(createDom("div",{className:"jasmine-stack-trace"},expectation.stack))}failures.push(failure)}"pending"==result.status&&pendingSpecCount++},this.jasmineDone=function(doneResult){function summaryList(resultsTree,domParent){for(var specListNode,i=0;i<resultsTree.children.length;i++){var resultNode=resultsTree.children[i];if("suite"==resultNode.type){var suiteListNode=createDom("ul",{className:"jasmine-suite",id:"suite-"+resultNode.result.id},createDom("li",{className:"jasmine-suite-detail"},createDom("a",{href:specHref(resultNode.result)},resultNode.result.description)));summaryList(resultNode,suiteListNode),domParent.appendChild(suiteListNode)}if("spec"==resultNode.type){"jasmine-specs"!=domParent.getAttribute("class")&&(specListNode=createDom("ul",{className:"jasmine-specs"}),domParent.appendChild(specListNode));var specDescription=resultNode.result.description;noExpectations(resultNode.result)&&(specDescription="SPEC HAS NO EXPECTATIONS "+specDescription),"pending"===resultNode.result.status&&""!==resultNode.result.pendingReason&&(specDescription=specDescription+" PENDING WITH MESSAGE: "+resultNode.result.pendingReason),specListNode.appendChild(createDom("li",{className:"jasmine-"+resultNode.result.status,id:"spec-"+resultNode.result.id},createDom("a",{href:specHref(resultNode.result)},specDescription)))}}}var banner=find(".jasmine-banner"),alert=find(".jasmine-alert"),order=doneResult&&doneResult.order;alert.appendChild(createDom("span",{className:"jasmine-duration"},"finished in "+timer.elapsed()/1e3+"s")),banner.appendChild(createDom("div",{className:"jasmine-run-options"},createDom("span",{className:"jasmine-trigger"},"Options"),createDom("div",{className:"jasmine-payload"},createDom("div",{className:"jasmine-exceptions"},createDom("input",{className:"jasmine-raise",id:"jasmine-raise-exceptions",type:"checkbox"}),createDom("label",{className:"jasmine-label","for":"jasmine-raise-exceptions"},"raise exceptions")),createDom("div",{className:"jasmine-throw-failures"},createDom("input",{className:"jasmine-throw",id:"jasmine-throw-failures",type:"checkbox"}),createDom("label",{className:"jasmine-label","for":"jasmine-throw-failures"},"stop spec on expectation failure")),createDom("div",{className:"jasmine-random-order"},createDom("input",{className:"jasmine-random",id:"jasmine-random-order",type:"checkbox"}),createDom("label",{className:"jasmine-label","for":"jasmine-random-order"},"run tests in random order")))));var raiseCheckbox=find("#jasmine-raise-exceptions");raiseCheckbox.checked=!env.catchingExceptions(),raiseCheckbox.onclick=onRaiseExceptionsClick;var throwCheckbox=find("#jasmine-throw-failures");throwCheckbox.checked=env.throwingExpectationFailures(),throwCheckbox.onclick=onThrowExpectationsClick;var randomCheckbox=find("#jasmine-random-order");randomCheckbox.checked=env.randomTests(),randomCheckbox.onclick=onRandomClick;var optionsMenu=find(".jasmine-run-options"),optionsTrigger=optionsMenu.querySelector(".jasmine-trigger"),optionsPayload=optionsMenu.querySelector(".jasmine-payload"),isOpen=/\bjasmine-open\b/;if(optionsTrigger.onclick=function(){isOpen.test(optionsPayload.className)?optionsPayload.className=optionsPayload.className.replace(isOpen,""):optionsPayload.className+=" jasmine-open"},specsExecuted<totalSpecsDefined){var skippedMessage="Ran "+specsExecuted+" of "+totalSpecsDefined+" specs - run all";alert.appendChild(createDom("span",{className:"jasmine-bar jasmine-skipped"},createDom("a",{href:"?",title:"Run all specs"},skippedMessage)))}var statusBarMessage="",statusBarClassName="jasmine-bar ";totalSpecsDefined>0?(statusBarMessage+=pluralize("spec",specsExecuted)+", "+pluralize("failure",failureCount),pendingSpecCount&&(statusBarMessage+=", "+pluralize("pending spec",pendingSpecCount)),statusBarClassName+=failureCount>0?"jasmine-failed":"jasmine-passed"):(statusBarClassName+="jasmine-skipped",statusBarMessage+="No specs found");var seedBar;for(order&&order.random&&(seedBar=createDom("span",{className:"jasmine-seed-bar"},", randomized with seed ",createDom("a",{title:"randomized with seed "+order.seed,href:seedHref(order.seed)},order.seed))),alert.appendChild(createDom("span",{className:statusBarClassName},statusBarMessage,seedBar)),i=0;i<failedSuites.length;i++)for(var failedSuite=failedSuites[i],j=0;j<failedSuite.failedExpectations.length;j++){var errorBarMessage="AfterAll "+failedSuite.failedExpectations[j].message,errorBarClassName="jasmine-bar jasmine-errored";alert.appendChild(createDom("span",{className:errorBarClassName},errorBarMessage))}var results=find(".jasmine-results");if(results.appendChild(summary),summaryList(topResults,summary),failures.length){alert.appendChild(createDom("span",{className:"jasmine-menu jasmine-bar jasmine-spec-list"},createDom("span",{},"Spec List | "),createDom("a",{className:"jasmine-failures-menu",href:"#"},"Failures"))),alert.appendChild(createDom("span",{className:"jasmine-menu jasmine-bar jasmine-failure-list"},createDom("a",{className:"jasmine-spec-list-menu",href:"#"},"Spec List"),createDom("span",{}," | Failures "))),find(".jasmine-failures-menu").onclick=function(){setMenuModeTo("jasmine-failure-list")},find(".jasmine-spec-list-menu").onclick=function(){setMenuModeTo("jasmine-spec-list")},setMenuModeTo("jasmine-failure-list");for(var failureNode=find(".jasmine-failures"),i=0;i<failures.length;i++)failureNode.appendChild(failures[i])}},this}var noopTimer={start:function(){},elapsed:function(){return 0}};return HtmlReporter},jasmineRequire.HtmlSpecFilter=function(){function HtmlSpecFilter(options){var filterString=options&&options.filterString()&&options.filterString().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),filterPattern=new RegExp(filterString);this.matches=function(specName){return filterPattern.test(specName)}}return HtmlSpecFilter},jasmineRequire.ResultsNode=function(){function ResultsNode(result,type,parent){this.result=result,this.type=type,this.parent=parent,this.children=[],this.addChild=function(result,type){this.children.push(new ResultsNode(result,type,this))},this.last=function(){return this.children[this.children.length-1]}}return ResultsNode},jasmineRequire.QueryString=function(){function QueryString(options){function toQueryString(paramMap){var qStrPairs=[];for(var prop in paramMap)qStrPairs.push(encodeURIComponent(prop)+"="+encodeURIComponent(paramMap[prop]));return"?"+qStrPairs.join("&")}function queryStringToParamMap(){var paramStr=options.getWindowLocation().search.substring(1),params=[],paramMap={};if(paramStr.length>0){params=paramStr.split("&");for(var i=0;i<params.length;i++){var p=params[i].split("="),value=decodeURIComponent(p[1]);"true"!==value&&"false"!==value||(value=JSON.parse(value)),paramMap[decodeURIComponent(p[0])]=value}}return paramMap}return this.navigateWithNewParam=function(key,value){options.getWindowLocation().search=this.fullStringWithNewParam(key,value)},this.fullStringWithNewParam=function(key,value){var paramMap=queryStringToParamMap();return paramMap[key]=value,toQueryString(paramMap)},this.getParam=function(key){return queryStringToParamMap()[key]},this}return QueryString},function(){function extend(destination,source){for(var property in source)destination[property]=source[property];return destination}window.jasmine=jasmineRequire.core(jasmineRequire),jasmineRequire.html(jasmine);var env=jasmine.getEnv(),jasmineInterface=jasmineRequire["interface"](jasmine,env);extend(window,jasmineInterface);var queryString=new jasmine.QueryString({getWindowLocation:function(){return window.location}}),catchingExceptions=queryString.getParam("catch");env.catchExceptions("undefined"==typeof catchingExceptions||catchingExceptions);var throwingExpectationFailures=queryString.getParam("throwFailures");env.throwOnExpectationFailure(throwingExpectationFailures);var random=queryString.getParam("random");env.randomizeTests(random);var seed=queryString.getParam("seed");seed&&env.seed(seed);var htmlReporter=new jasmine.HtmlReporter({env:env,onRaiseExceptionsClick:function(){queryString.navigateWithNewParam("catch",!env.catchingExceptions())},onThrowExpectationsClick:function(){queryString.navigateWithNewParam("throwFailures",!env.throwingExpectationFailures())},onRandomClick:function(){queryString.navigateWithNewParam("random",!env.randomTests())},addToExistingQueryString:function(key,value){return queryString.fullStringWithNewParam(key,value)},getContainer:function(){return document.body},createElement:function(){return document.createElement.apply(document,arguments)},createTextNode:function(){return document.createTextNode.apply(document,arguments)},timer:new jasmine.Timer});env.addReporter(jasmineInterface.jsApiReporter),env.addReporter(htmlReporter);var specFilter=new jasmine.HtmlSpecFilter({filterString:function(){return queryString.getParam("spec")}});env.specFilter=function(spec){return specFilter.matches(spec.getFullName())},window.setTimeout=window.setTimeout,window.setInterval=window.setInterval,window.clearTimeout=window.clearTimeout,window.clearInterval=window.clearInterval,htmlReporter.initialize(),setTimeout(function(){env.execute()},0)}(),console.log("tb.core jasmine test"),describe("tb.core.js",function(){describe("general tests",function(){it("tb() present and typeof 'function'",function(){expect("function"==typeof tb).toBe(!0)}),it("tb.dom() present and typeof 'function'",function(){expect("function"==typeof tb.dom).toBe(!0)}),it("tb.Model() present and typeof 'function'",function(){expect("function"==typeof tb.Model).toBe(!0)}),it("tb.Event() present and typeof 'function'",function(){expect("function"==typeof tb.Event).toBe(!0)}),it("tb.Require() present and typeof 'function'",function(){expect("function"==typeof tb.Require).toBe(!0)})}),describe("tb() selector tests",function(){describe("tb( 'String' ) .querySelectorAll() string selector tests",function(){it("tb('body') is a tb instance",function(){expect(tb("body")instanceof tb.Selector).toBe(!0)}),it("tb('body') to have .length 1",function(){expect(1===tb("body").length).toBe(!0)}),it("tb('body')[0] instanceof tb",function(){expect(tb("body")[0]instanceof tb).toBe(!0)}),it("tb('body')[0].target to be document.body DOM node",function(){expect(tb("body")[0].target===document.body).toBe(!0)})}),describe("tb( /String/ ) regEx selector tests",function(){it("tb( /test.Body/ ) is a tb instance",function(){expect(tb("body")instanceof tb.Selector).toBe(!0)}),it("tb( /test.Body/ ) to have .length 1",function(){expect(1===tb("body").length).toBe(!0)}),it("tb( /test.Body/ )[0] instanceof tb",function(){expect(tb("body")[0]instanceof tb).toBe(!0)}),it("tb( /test.Body/ )[0].target to be document.body DOM node",function(){expect(tb("body")[0].target===document.body).toBe(!0)})}),describe("tb( classNamespace ) regEx selector tests",function(){it("tb( test.GrandParent ) is a tb instance",function(){expect(tb(test.GrandParent)instanceof tb.Selector).toBe(!0)}),it("tb( test.GrandParent ) to have .length 1",function(){expect(1===tb(test.GrandParent).length).toBe(!0)}),it("tb( test.GrandParent )[0] instanceof tb",function(){expect(tb(test.GrandParent)[0]instanceof tb).toBe(!0)}),it("tb( test.GrandParent )[0].target to be document.body DOM node",function(){expect(tb(test.GrandParent)[0].target===document.body).toBe(!0)})}),describe("tb( [ selector1, selector2, ... ] ) array of selectors tests",function(){it("tb( [ test.GrandParent, 'div', 'body' ] ) is a tb instance",function(){expect(tb([test.GrandParent,"div","body"])instanceof tb.Selector).toBe(!0)}),it("tb( [ test.GrandParent ] ) to have .length 1",function(){expect(1===tb([test.GrandParent]).length).toBe(!0)}),it("tb( [ test.GrandParent, 'div' ] ) to have .length 6",function(){expect(6===tb([test.GrandParent,"div"]).length).toBe(!0)}),it("tb( [ test.GrandParent, 'div', 'body' ] ) to have .length 6",function(){expect(6===tb([test.GrandParent,"div","body"]).length).toBe(!0)}),it("tb( [ test.GrandParent, 'div', 'body' ] )[0] instanceof tb",function(){expect(tb([test.GrandParent,"div","body"])[0]instanceof tb).toBe(!0)}),it("tb( [ test.GrandParent, 'div', 'body' ] )[0].target to be document.body DOM node",function(){expect(tb([test.GrandParent,"div","body"])[0].target===document.body).toBe(!0)}),it("tb( [ test.GrandParent, 'div', 'body' ] )[1] instanceof tb",function(){expect(tb([test.GrandParent,"div","body"])[1]instanceof tb).toBe(!0)}),it("tb( [ test.GrandParent, 'div', 'body' ] )[1].target.tagName to be 'DIV'",function(){expect("DIV"===tb([test.GrandParent,"div","body"])[1].target.tagName).toBe(!0)})})}),describe("tb() chained",function(){describe("add()",function(){it("tb('body').add('div') is a tb selector instance",function(){expect(tb("body").add("div")instanceof tb.Selector).toBe(!0)}),it("tb('body').add('div').length === 6",function(){expect(6===tb("body").add("div").length).toBe(!0)})}),describe("children()",function(){it("tb('body').children() instanceof tb.Selector",function(){expect(tb("body").children()instanceof tb.Selector).toBe(!0)}),it("tb('body').children().length === 5",function(){expect(5===tb("body").children().length).toBe(!0)}),it("tb('body').children('div') instanceof tb.Selector",function(){expect(tb("body").children("div")instanceof tb.Selector).toBe(!0)}),it("tb('body').children('div').length === 5",function(){expect(5===tb("body").children("div").length).toBe(!0)}),it("tb('body').children('span') instanceof tb.Selector",function(){expect(tb("body").children("span")instanceof tb.Selector).toBe(!0)}),it("tb('body').children('span').length === 0",function(){expect(0===tb("body").children("span").length).toBe(!0)})}),describe("descendants()",function(){it("tb('body').descendants() instanceof tb.Selector",function(){expect(tb("body").descendants()instanceof tb.Selector).toBe(!0)}),it("tb('body').descendants().length === 505",function(){expect(505===tb("body").descendants().length).toBe(!0)}),it("tb('body').descendants('div') instanceof tb.Selector",function(){expect(tb("body").descendants("div")instanceof tb.Selector).toBe(!0)}),it("tb('body').descendants('div').length === 5",function(){expect(5===tb("body").descendants("div").length).toBe(!0)}),it("tb('body').descendants('span') instanceof tb.Selector",function(){expect(tb("body").descendants("span")instanceof tb.Selector).toBe(!0)}),it("tb('body').descendants('span').length === 500",function(){expect(500===tb("body").descendants("span").length).toBe(!0)})}),describe("filter()",function(){it("tb('div').filter( 'body' ) instanceof tb.Selector",function(){expect(tb("div").filter("body")instanceof tb.Selector).toBe(!0)}),it("tb('div').filter( 'body' ).length === 0",function(){expect(0===tb("div").filter("body").length).toBe(!0)}),it("tb('div').filter( test.Parent ).length === 5",function(){expect(5===tb("div").filter(test.Parent).length).toBe(!0)})}),describe("first()",function(){it("tb('div').first() instanceof tb.Selector",function(){expect(tb("div").first()instanceof tb.Selector).toBe(!0)}),it("tb('div').first().length === 1",function(){expect(1===tb("div").first().length).toBe(!0)}),it("tb('div').first( 'span' ).length === 0",function(){expect(0===tb("div").first("span").length).toBe(!0)})}),describe("get()",function(){it("tb('div').get('target')",function(){expect("DIV"===tb("div")[0].get("target").tagName).toBe(!0)})}),describe("last()",function(){it("tb('div').last() instanceof tb.Selector",function(){expect(tb("div").last()instanceof tb.Selector).toBe(!0)}),it("tb('div').last().length === 1",function(){expect(1===tb("div").last().length).toBe(!0)}),it("tb('div').last( 'span' ).length === 0",function(){expect(0===tb("div").last("span").length).toBe(!0)})}),describe("next()",function(){it("tb('div').next() instanceof tb.Selector",function(){expect(tb("div").next()instanceof tb.Selector).toBe(!0)}),it("tb('div')[0].next().length === 1",function(){expect(1===tb("div")[0].next().length).toBe(!0)}),it("tb('div')[4].next().length === 0",function(){expect(0===tb("div").last().next().length).toBe(!0)}),it("tb('div')[0].next( 'span' ).length === 0",function(){expect(0===tb("div").next("span").length).toBe(!0)})}),describe("not()",function(){it("tb('div').not('div').length === 0",function(){expect(0===tb("div").not("div").length).toBe(!0)}),it("tb('div').not('span').length === 5",function(){expect(5===tb("div").not("span").length).toBe(!0)})}),describe("off()",function(){it("tb('div').off( 'testEventName', pHandler ) remove one handler at a time",function(){var testHandler1=function(){},testHandler2=function(){};tb(test.GrandParent)[0].handlers.testEventName=[testHandler1,testHandler2],tb(test.GrandParent).off("testEventName",testHandler1),expect(1===tb(test.GrandParent)[0].handlers.testEventName.length).toBe(!0)}),it("tb('div').off( 'testEventName', pHandler ) remove last handler",function(){var testHandler1=function(){};tb(test.GrandParent)[0].handlers.testEventName=[testHandler1],tb(test.GrandParent).off("testEventName",testHandler1),expect(!tb(test.GrandParent)[0].handlers.testEventName).toBe(!0)}),it("tb('div').off( 'testEventName' ) remove all handlers",function(){var testHandler1=function(){},testHandler2=function(){};tb(test.GrandParent)[0].handlers.testEventName=[testHandler1,testHandler2],tb(test.GrandParent).off("testEventName"),expect(!tb(test.GrandParent)[0].handlers.testEventName).toBe(!0)})}),describe("on()",function(){it("tb('div').on( 'testEventName', pHandler ) add handler(s)",function(){var testHandler1=function(){},testHandler2=function(){};tb(test.GrandParent).on("testEventName",testHandler1).on("testEventName",testHandler2),expect(2===tb(test.GrandParent)[0].handlers.testEventName.length).toBe(!0),delete tb(test.GrandParent)[0].handlers.testEventName})}),describe("one()",function(){it("tb('div').one( 'testEventName', pHandler ) add mixed handlers",function(){var testHandler1=function(){},testHandler2=function(){};tb(test.GrandParent).one("testEventName",testHandler1).on("testEventName",testHandler2),tb(test.GrandParent).trigger("testEventName"),expect(1===tb(test.GrandParent)[0].handlers.testEventName.length).toBe(!0),delete tb(test.GrandParent)[0].handlers.testEventName}),it("tb('div').one( 'testEventName', pHandler ) only .once handlers",function(){var testHandler1=function(){},testHandler2=function(){};tb(test.GrandParent).one("testEventName",testHandler1).one("testEventName",testHandler2),tb(test.GrandParent).trigger("testEventName"),expect("undefined"==typeof tb(test.GrandParent)[0].handlers.testEventName).toBe(!0)})}),describe("parent()",function(){it("tb('body').parent() instanceof tb.Selector",function(){expect(tb("body").parent()instanceof tb.Selector).toBe(!0)}),it("tb( test.Child ).parent().length === 5",function(){expect(5===tb(test.Child).parent().length).toBe(!0)}),it("tb( test.Child ).parent('div') instanceof tb.Selector",function(){expect(tb(test.Child).parent("div")instanceof tb.Selector).toBe(!0)}),it("tb( test.Child ).parent('div').length === 5",function(){expect(5===tb(test.Child).parent("div").length).toBe(!0)}),it("tb( test.Child ).parent('span') instanceof tb.Selector",function(){expect(tb(test.Child).parent("span")instanceof tb.Selector).toBe(!0)}),it("tb( test.Child ).parent('span').length === 0",function(){expect(0===tb(test.Child).parent("span").length).toBe(!0)})}),describe("parents()",function(){it("tb('body').parents() instanceof tb.Selector",function(){expect(tb("body").parents()instanceof tb.Selector).toBe(!0)}),it("tb( test.Child ).parents().length === 6",function(){expect(6===tb(test.Child).parents().length).toBe(!0)}),it("tb( test.Child ).parents('div') instanceof tb.Selector",function(){expect(tb(test.Child).parents("div")instanceof tb.Selector).toBe(!0)}),it("tb( test.Child ).parents('div').length === 5",function(){expect(5===tb(test.Child).parents("div").length).toBe(!0)}),it("tb( test.Child ).parents('span') instanceof tb.Selector",function(){expect(tb(test.Child).parents("span")instanceof tb.Selector).toBe(!0)}),it("tb( test.Child ).parents('span').length === 0",function(){expect(0===tb(test.Child).parents("span").length).toBe(!0)})}),describe("prev()",function(){it("tb('div').prev() instanceof tb.Selector",function(){expect(tb("div").prev()instanceof tb.Selector).toBe(!0)}),it("tb('div')[1].prev().length === 1",function(){expect(1===tb("div")[1].prev().length).toBe(!0)}),it("tb('div')[0].prev().length === 0",function(){expect(0===tb("div")[0].prev().length).toBe(!0)}),it("tb('div')[1].prev( 'span' ).length === 0",function(){expect(0===tb("div")[1].prev("span").length).toBe(!0)})}),describe("set()",function(){it("tb('body').set('answer', 42 ) instanceof tb.Selector",function(){expect(42===tb("body").set("answer",42)[0].answer).toBe(!0),delete tb("body")[0].answer}),it("tb('div').set('answer', 42 ) instanceof tb.Selector",function(){tb("div").set("answer",42),[].forEach.call(tb("div"),function(tbInstance){expect(42===tbInstance.answer).toBe(!0),delete tbInstance.answer})})}),describe("toArray()",function(){it("tb('body').toArray() instanceof Array",function(){expect(tb("body").toArray()instanceof Array).toBe(!0)}),it("tb('body').toArray() .length === 1",function(){expect(1===tb("body").toArray().length).toBe(!0)}),it("tb('div').toArray() instanceof Array",function(){expect(tb("div").toArray()instanceof Array).toBe(!0)}),it("tb('div').toArray() .length === 5",function(){expect(5===tb("div").toArray().length).toBe(!0)})}),describe("trigger()",function(){var GPdone=!1,Cdone=!1,GGCdone=!1,handlers={GPtestHandler:function(e){GPdone=!0},CtestHandler:function(e){Cdone=!0},GGCtestHandler:function(e){GGCdone=!0}};beforeEach(function(){GPdone=!1,Cdone=!1,GGCdone=!1}),afterEach(function(){tb("*").off("triggerTest")}),describe("local event",function(){beforeEach(function(done){tb(test.GreatGrandChild)[0].on("triggerTest",handlers.GGCtestHandler),tb(test.Child)[0].on("triggerTest",handlers.CtestHandler),tb(test.GrandParent)[0].on("triggerTest",handlers.GPtestHandler),tb(test.Child)[0].trigger("triggerTest"),setTimeout(function(){done()},200)}),it("handler called",function(done){expect(Cdone===!0).toBe(!0),done()})}),describe("local event bubbling up",function(){beforeEach(function(done){tb(test.GreatGrandChild)[0].on("triggerTest",handlers.GGCtestHandler),tb(test.Child)[0].on("triggerTest",handlers.CtestHandler),tb(test.GrandParent)[0].on("triggerTest",handlers.GPtestHandler),tb(test.Child)[0].trigger("triggerTest",null,"lu"),setTimeout(function(){done()},200)}),it("handler called",function(done){expect(Cdone===!0&&GPdone===!0).toBe(!0),done()})}),describe("event only bubbling up",function(){beforeEach(function(done){tb(test.GreatGrandChild)[0].on("triggerTest",handlers.GGCtestHandler),tb(test.Child)[0].on("triggerTest",handlers.CtestHandler),tb(test.GrandParent)[0].on("triggerTest",handlers.GPtestHandler),tb(test.Child)[0].trigger("triggerTest",null,"u"),setTimeout(function(){done()},200)}),it("handler called",function(done){expect(Cdone===!1&&GPdone===!0).toBe(!0),done()})}),describe("event only bubbling down",function(){beforeEach(function(done){tb(test.GreatGrandChild)[0].on("triggerTest",handlers.GGCtestHandler),tb(test.Child)[0].on("triggerTest",handlers.CtestHandler),tb(test.GrandParent)[0].on("triggerTest",handlers.GPtestHandler),tb(test.Child)[0].trigger("triggerTest",null,"d"),setTimeout(function(){done()},1e3)}),it("handler called",function(done){expect(Cdone===!1&&GGCdone===!0).toBe(!0),done()})}),describe("event bubbling up and down",function(){beforeEach(function(done){tb(test.GreatGrandChild)[0].on("triggerTest",handlers.GGCtestHandler),tb(test.Child)[0].on("triggerTest",handlers.CtestHandler),tb(test.GrandParent)[0].on("triggerTest",handlers.GPtestHandler),tb(test.Child)[0].trigger("triggerTest",null,"ud"),setTimeout(function(){done()},1e3)}),it("handler called",function(done){expect(GPdone===!0&&GGCdone===!0).toBe(!0),done()})}),describe("event local and bubbling up and down",function(){beforeEach(function(done){tb(test.GreatGrandChild)[0].on("triggerTest",handlers.GGCtestHandler),tb(test.Child)[0].on("triggerTest",handlers.CtestHandler),tb(test.GrandParent)[0].on("triggerTest",handlers.GPtestHandler),tb(test.Child)[0].trigger("triggerTest",null,"lud"),setTimeout(function(){done()},1e3)}),it("handler called",function(done){expect(GPdone===!0&&Cdone===!0&&GGCdone===!0).toBe(!0),done()})})})})}),describe("tb.dom() selector tests",function(){tb.dom;describe("general tests",function(){it("tb.dom() present and typeof 'function'",function(){expect("function"==typeof tb.dom).toBe(!0)})}),describe("tb.dom() selector tests",function(){describe("tb.dom( 'String' ) .querySelectorAll() string selector tests",function(){it("tb.dom('body') is DOM node",function(){expect(!!tb.dom("body")[0].nodeType).toBe(!0)}),it("tb.dom('body') to have .length 1",function(){expect(1===tb.dom("body").length).toBe(!0)}),it("tb.dom('div') is DOM node",function(){expect(!!tb.dom("div.test-parent")[0].nodeType).toBe(!0)}),it("tb.dom('div.test-parent') to have .length 5",function(){expect(5===tb.dom("div.test-parent").length).toBe(!0)})}),describe("tb.dom( pDomNode ) pick a DOM node",function(){it("tb.dom( document.body )[0] is dom node",function(){expect(1===tb.dom(document.body)[0].nodeType).toBe(!0)}),it("tb.dom( document.createElement('div') )[0] is dom element node",function(){expect(1===tb.dom(document.createElement("div"))[0].nodeType).toBe(!0)}),it("tb.dom( document.createElement('div') )[0] is a div",function(){expect("DIV"===tb.dom(document.createElement("div"))[0].tagName).toBe(!0)})}),describe("tb.dom( pTbResultSet ) get DOM nodes from tb.dom() selector result set",function(){it("tb.dom( tb.dom( document.body ) )[0] is dom node",function(){expect(1===tb.dom(tb.dom(document.body))[0].nodeType).toBe(!0)}),it("tb.dom( tb.dom( 'div' ) )[0] is dom node",function(){expect(!!tb.dom(tb.dom("div"))[0].nodeType).toBe(!0)}),it("tb.dom( tb.dom( 'div.test-parent' ) ) has .length 5",function(){expect(5===tb.dom(tb.dom("div.test-parent")).length).toBe(!0)})}),describe("tb.dom( [ selector1, selector2, ... ] ) array of selectors tests",function(){it("tb.dom( [ document.body ] ) to have .length 1",function(){expect(1===tb.dom([document.body]).length).toBe(!0)}),it("tb.dom( [ document.body, 'div.test-parent' ] ) to have .length 6",function(){expect(6===tb.dom([document.body,"div.test-parent"]).length).toBe(!0)}),it("tb.dom( [ document.body, 'div.test-parent', 'body' ] ) to have .length 6",function(){expect(6===tb.dom([document.body,"div.test-parent","body"]).length).toBe(!0)}),it("tb.dom( [ document.body, 'div.test-parent' ] )[0] to be document.body DOM node",function(){expect(tb.dom([document.body,"div.test-parent"])[0]===document.body).toBe(!0)}),it("tb.dom( [ document.body, 'div.test-parent' ] )[1] is a div",function(){expect("DIV"===tb.dom([document.body,"div.test-parent"])[1].tagName).toBe(!0)})}),describe("tb.dom( 'HtmlString' ) create DOM nodes from HTML String",function(){it("tb.dom( '<div>' ) to have .length 1",function(){expect(1===tb.dom("<div>").length).toBe(!0)})})}),describe("tb.dom() chained",function(){describe(".add()",function(){it("tb.dom('body').add('div.test-parent').length === 6",function(){expect(6===tb.dom("body").add("div.test-parent").length).toBe(!0)}),it("tb.dom('body').add('span.test-grandchild, span.test-greatgrandchild').length === 451",function(){expect(451===tb.dom("body").add("span.test-grandchild, span.test-greatgrandchild").length).toBe(!0)})}),describe(".addClass() / .removeClass()",function(){it("tb.dom('body').addClass('test1class') contains test1class",function(){tb.dom("body").addClass("test1class"),expect(tb.dom("body")[0].getAttribute("class").indexOf("test1class")>-1).toBe(!0)}),it("tb.dom('body').addClass('test2class test3class') contains 2 new classes now",function(){tb.dom("body").addClass("test2class test3class"),expect(tb.dom("body")[0].getAttribute("class").indexOf("test2class")>-1).toBe(!0),expect(tb.dom("body")[0].getAttribute("class").indexOf("test3class")>-1).toBe(!0)}),it("tb.dom('body') contains 4 classes now",function(){expect(4===tb.dom("body")[0].getAttribute("class").split(" ").length).toBe(!0)}),it("tb.dom('body') remove test classes",function(){tb.dom("body").removeClass("test1class test2class test3class"),expect(1===tb.dom("body")[0].getAttribute("class").split(" ").length).toBe(!0)})}),describe(".append() / .remove()",function(){it("tb.dom('body').append('<a></a>')",function(){tb.dom("body").append("<a></a>"),expect("A"===document.body.lastChild.tagName).toBe(!0)}),it("tb.dom('body').append('<a></a><b></b>')",function(){tb.dom("body").append("<a></a><b></b>"),expect("B"===document.body.lastChild.tagName).toBe(!0)}),it("tb.dom('body > a,body > b').remove()",function(){tb.dom("body > a,body > b").remove(),expect("DIV"===document.body.lastChild.tagName).toBe(!0)})}),describe(".appendTo()",function(){it("tb.dom('<a></a><b></b><input />').appendTo('body')",function(){tb.dom("<a></a><b></b><input />").appendTo("body"),expect("INPUT"===document.body.lastChild.tagName).toBe(!0)}),it("tb.dom('body > a,body > b, body > input').remove()",function(){tb.dom("body > a,body > b, body > input").remove(),expect("DIV"===document.body.lastChild.tagName).toBe(!0)})}),describe(".attr() / .removeAttr()",function(){it("tb.dom('body').attr('data-test', 'test')",function(){tb.dom("body").attr("data-test","test"),expect("test"===document.body.getAttribute("data-test")).toBe(!0)}),it("tb.dom('body').removeAttr('data-test')",function(){tb.dom("body").removeAttr("data-test");var hasAttribute=[].some.call(document.body.attributes,function(e){return"data-test"===e.name});expect(hasAttribute===!1).toBe(!0)}),it("tb.dom('body').attr({ 'data-test1': 'test1', 'data-test2': 'test2' })",function(){tb.dom("body").attr({"data-test1":"test1","data-test2":"test2"}),expect("test1"===document.body.getAttribute("data-test1")).toBe(!0),expect("test2"===document.body.getAttribute("data-test2")).toBe(!0)}),
it("tb.dom('body').removeAttr('data-test1 data-test2')",function(){tb.dom("body").removeAttr("data-test1 data-test2");var hasAttribute=[].some.call(document.body.attributes,function(e){return"data-test1"===e.name||"data-test2"===e.name});expect(hasAttribute===!1).toBe(!0)})}),describe(".children()",function(){it("tb.dom('body').children().length === 6",function(){expect(6===tb.dom("body").children().length).toBe(!0)}),it("tb.dom('body').children('div.test-parent').length === 5",function(){expect(5===tb.dom("body").children("div.test-parent").length).toBe(!0)}),it("tb.dom('body').children('span').length === 0",function(){expect(0===tb.dom("body").children("span").length).toBe(!0)})}),describe(".concat()",function(){it("tb.dom('body').concat( tb.dom( 'div.test-parent' ).toArray() ).length === 6",function(){var a=tb.dom("body").concat(tb.dom("div.test-parent").toArray());expect(6===a.length).toBe(!0)})}),describe(".descendants()",function(){it("tb.dom('div.test-parent').descendants().length === 500",function(){expect(500===tb.dom("div.test-parent").descendants().length).toBe(!0)}),it("tb.dom('div.test-parent').descendants('div').length === 0",function(){expect(0===tb.dom("div.test-parent").descendants("div").length).toBe(!0)}),it("tb.dom('div.test-parent').descendants('span').length === 500",function(){expect(500===tb.dom("div.test-parent").descendants("span").length).toBe(!0)})}),describe(".empty()",function(){it("tb.dom('body').concat( tb.dom( 'div.test-parent' ) ).length === 6",function(){tb.dom("body").append('<div class="test1"><div class="test2"></div></div>'),tb.dom("div.test1").empty(),expect(0===tb.dom("div.test2").length).toBe(!0),tb.dom("div.test1").remove()})}),describe(".every()",function(){it("tb.dom( 'div.test-parent' ).every()",function(){var f=function(e){return"DIV"===e.tagName},a=tb.dom("div.test-parent").every(f);expect(a).toBe(!0)})}),describe(".filter()",function(){it("tb.dom( 'div.test-parent' ).filter( 'div' ) has .length 5",function(){var a=tb.dom("div.test-parent").filter("div");expect(5===a.length).toBe(!0)}),it("tb.dom( 'div.test-parent' ).filter( 'span' ) has .length 0",function(){var a=tb.dom("div.test-parent").filter("span");expect(0===a.length).toBe(!0)}),it("tb.dom( 'div.test-parent' ).filter( function )",function(){var f=function(e){return"DIV"===e.tagName},a=tb.dom("div.test-parent").filter(f);expect(5===a.length).toBe(!0)})}),describe(".forEach()",function(){it("forEach()",function(){var a=tb.dom("div.test-parent");a.forEach(function(e){tb.dom(e).addClass("testForEach")}),expect(5===tb.dom("div.testForEach").length).toBe(!0),a.forEach(function(e){tb.dom(e).removeClass("testForEach")})})}),describe(".hide() / .show()",function(){it("hide()",function(){var a=tb.dom("div.test-parent").hide();expect("none"===a[0].style.display&&"none"===a[4].style.display).toBe(!0)}),it("show()",function(){var a=tb.dom("div.test-parent").show();expect("none"!==a[0].style.display&&"none"!==a[4].style.display).toBe(!0)})}),describe(".html()",function(){it("tb.dom( document.body ).append('<b></b>').children('b').html('just a test')",function(){tb.dom(document.body).append("<b></b>").children("b").html("just a test"),expect("just a test"===tb.dom("body > b")[0].innerHTML).toBe(!0)}),it("tb.dom( 'body > b' ).html('')",function(){tb.dom("body > b").html(""),expect(""===tb.dom("body > b")[0].innerHTML).toBe(!0),tb.dom("body > b").remove()})}),describe(".indexOf()",function(){it("tb.dom( 'div.test-parent').indexOf( tb.dom('div.test-parent')[0] ) === 0",function(){expect(0===tb.dom("div.test-parent").indexOf(tb.dom("div.test-parent")[0])).toBe(!0)})}),describe(".insertAfter() / .insertBefore()",function(){it("tb.dom( '<b></b>' ).insertBefore( tb.dom( 'div.test-parent' )[2] )",function(){tb.dom("<b></b>").insertBefore(tb.dom("div.test-parent")[2]),expect("B"===tb.dom("body").children()[2].tagName).toBe(!0)}),it("tb.dom( '<b></b>' ).insertAfter( tb.dom( 'div.test-parent' )[2] )",function(){tb.dom("<b></b>").insertAfter(tb.dom("div.test-parent")[2]),expect("B"===tb.dom("body").children()[4].tagName).toBe(!0),tb.dom("body > b").remove()})}),describe(".map()",function(){it("tb.dom( 'div.test-parent' ).map( function( e, i ){ s += i; return i; } )",function(){var a,s=0;a=tb.dom("div.test-parent").map(function(e,i){return s+=i,i}),expect(a instanceof Array&&10===s&&0===a[0]).toBe(!0)}),it("tb.dom( 'div.test-parent' ).map( function( e, i ){ return e; } )",function(){var a;a=tb.dom("div.test-parent").map(function(e,i){return e}),expect(!(a instanceof Array||!a[0]||!a[0].nodeType)).toBe(!0)})}),describe(".not()",function(){it("tb.dom( 'div.test-parent' ).not( 'div.test-parent:nth-child(4)' )",function(){var a=tb.dom("div.test-parent").not("div.test-parent:nth-child(4)");expect(4===a.length).toBe(!0)}),it("tb.dom( 'div.test-parent' ).not( 'div.test-parent:nth-child(4), div.test-parent:nth-child(5)' )",function(){var a=tb.dom("div.test-parent").not("div.test-parent:nth-child(4), div.test-parent:nth-child(5)");expect(3===a.length).toBe(!0)})}),describe(".parent()",function(){it("tb.dom( 'span.test-child' ).parent().length === 5",function(){expect(5===tb.dom("span.test-child").parent().length).toBe(!0)}),it("tb.dom( 'span.test-child' ).parent('div').length === 5",function(){expect(5===tb.dom("span.test-child").parent("div").length).toBe(!0)}),it("tb.dom( 'span.test-child' ).parent('span').length === 0",function(){expect(0===tb.dom("span.test-child").parent("span").length).toBe(!0)})}),describe(".parents()",function(){it("tb.dom( 'span.test-child' ).parents().length === 6",function(){expect(6===tb.dom("span.test-child").parents().length).toBe(!0)}),it("tb.dom( 'span.test-child' ).parents('div').length === 5",function(){expect(5===tb.dom("span.test-child").parents("div").length).toBe(!0)}),it("tb.dom( 'span.test-child' ).parents('span').length === 0",function(){expect(0===tb.dom("span.test-child").parents("span").length).toBe(!0)})}),describe(".pop()",function(){it("tb.dom( 'div.test-parent' ).pop() has .length 4",function(){var a=tb.dom("div.test-parent");a.pop(),expect(4===a.length).toBe(!0)}),it("!!tb.dom( 'div.test-parent' ).pop()['nodeType']",function(){var a=tb.dom("div.test-parent"),b=a.pop();expect(!!b.nodeType).toBe(!0)})}),describe(".push()",function(){it("tb.dom( 'div.test-parent' ).pop()['nodeType']",function(){var a=tb.dom("div.test-parent").push(document.body);expect(6===a.length).toBe(!0)})}),describe(".reduce()",function(){it("tb.dom( 'div.test-parent' ).reduce(...)",function(){var x,f=function(p,t,i){var y=p;return y+=i},a=tb.dom("div.test-parent");x=a.reduce(f,0),expect(10===x).toBe(!0)})}),describe(".reduceRight()",function(){it("tb.dom( 'div.test-parent' ).reduceRight(...)",function(){var x,f=function(p,t,i){var y=p;return y+=2*i},a=tb.dom("div.test-parent");x=a.reduceRight(f,0),expect(20===x).toBe(!0)})}),describe(".reverse()",function(){it("tb.dom( 'div.test-parent' ).reverse()",function(){expect(tb.dom("div.test-parent").reverse()[0]===tb.dom("div.test-parent")[4]).toBe(!0)})}),describe(".shift()",function(){it("tb.dom( 'div.test-parent' ).shift()['nodeType']",function(){expect(!!tb.dom("div.test-parent").shift().nodeType).toBe(!0)}),it("tb.dom( 'div.test-parent' ).shift()[0] === tb.dom( 'div.test-parent' )[1]",function(){var a=tb.dom("div.test-parent");a.shift(),expect(a[0]===tb.dom("div.test-parent")[1]).toBe(!0)})})})}),describe("tb.Model.js",function(){describe("tb.Model() tests",function(){it("tb.Model() present and typeof 'function'",function(){expect("function"==typeof tb.Model).toBe(!0)})})}),describe("tb.Require.js",function(){describe("tb.Require() tests",function(){it("tb.Require() present and typeof 'function'",function(){expect("function"==typeof tb.Require).toBe(!0)})})}),describe("tb.utils.js",function(){describe("twobirds utility functions",function(){describe("tb.observable()",function(){it("tb.observable() present and typeof 'function'",function(){expect("function"==typeof tb.observable).toBe(!0)}),describe("observed data simple data",function(){var o=tb.observable("");beforeEach(function(){o("")}),it("observed object get value",function(){expect(""===o()).toBe(!0)}),it("observed object set numeric value",function(){o(2),expect(2===o()).toBe(!0)}),it("observed object set string value",function(){o("string"),expect("string"===o()).toBe(!0)}),it("observed object set object value",function(){o({}),expect(o()instanceof Object).toBe(!0)}),it("observed object set array value",function(){o([]),expect(o()instanceof Array).toBe(!0)})}),describe("observed data is object",function(){var o=tb.observable({});beforeEach(function(){o({a:42})}),it("observed object get complete object",function(){expect(42===o().a).toBe(!0)}),it("observed object replace complete object",function(){o({b:24}),expect(24===o("b")).toBe(!0),expect("undefined"==typeof o("a")).toBe(!0)}),it("observed object get value by key",function(){expect(42===o("a")).toBe(!0)}),it("observed object set value by key",function(){o("a",24),expect(24===o("a")).toBe(!0)}),it("observed object set a namespace",function(){o("d.e",12),expect(12===o().d.e).toBe(!0)}),it("observed object get a namespace",function(){o("d.e",6),expect(6===o("d.e")).toBe(!0)})})}),describe("tb.namespace()",function(){it("present and typeof 'function'",function(){expect("function"==typeof tb.namespace).toBe(!0)}),describe("variants",function(){var o={};beforeEach(function(){o={a:42,b:{c:99}}}),it("namespace object get simple property",function(){expect(42===tb.namespace("a",o).get()).toBe(!0)}),it("namespace object set simple property",function(){tb.namespace("b",o).set({c:24}),expect(24===tb.namespace("b.c",o).get()).toBe(!0)}),it("namespace object get a namespace",function(){expect(99===tb.namespace("b.c",o).get()).toBe(!0)}),it("namespace object set a namespace",function(){tb.namespace("d.e",o).set(12),expect(12===tb.namespace("d.e",o).get()).toBe(!0)})})}),describe("tb.bind()",function(){it("tb.bind() present and typeof 'function'",function(){expect("function"==typeof tb.bind).toBe(!0)}),afterEach(function(){tb.dom("body > .test-grandchild").remove()}),describe("on boot",function(){var o={};beforeEach(function(){o={a:42,b:{c:99}}}),it("you wouldnt be here if it wouldnt work, since it is needed to boot the test page",function(){expect(!0).toBe(!0)})}),describe("on demand",function(){it("add a tb instance to DOM *without* selector in .bind() call",function(){var d=document.createElement("div");d.setAttribute("data-tb","test.GrandChild"),document.body.appendChild(d),tb.bind(),expect(!!tb("body").children().last()[0].target.tb==!0).toBe(!0),expect(tb("body").children().last()[0].target.tb["test.GrandChild"]instanceof test.GrandChild).toBe(!0)}),it("add a tb instance to DOM *with* selector in .bind() call",function(){var d=document.createElement("div");d.setAttribute("data-tb","test.GrandChild"),document.body.appendChild(d),tb.bind(document.body.lastElementChild),expect(!!tb("body").children().last()[0].target.tb==!0).toBe(!0),expect(tb("body").children().last()[0].target.tb["test.GrandChild"]instanceof test.GrandChild).toBe(!0)}),it("add several tb instances to DOM *without* selector in .bind() call",function(){var d1=document.createElement("div"),d2=document.createElement("div");d1.setAttribute("data-tb","test.GrandChild"),d2.setAttribute("data-tb","test.GrandChild"),document.body.appendChild(d1),document.body.appendChild(d2),tb.bind(),expect(tb("body").children().last()[0].target.tb["test.GrandChild"]instanceof test.GrandChild).toBe(!0),expect(tb("body").children().last().prev()[0].target.tb["test.GrandChild"]instanceof test.GrandChild).toBe(!0)})})}),describe("tb.status {}",function(){it("tb.status present and typeof 'object'",function(){expect("object"==typeof tb.status).toBe(!0)}),it("tb.status.loadCount present and typeof 'function'",function(){expect("function"==typeof tb.status.loadCount).toBe(!0)})}),describe("tb.idle()",function(){it("tb.idle() present and typeof 'function'",function(){expect("function"==typeof tb.idle).toBe(!0)}),it("you wouldnt be here if it wouldnt work, since it is needed to boot the test page",function(){expect(!0).toBe(!0)})}),describe("tb.getId()",function(){it("tb.getId() present and typeof 'function'",function(){expect("function"==typeof tb.getId).toBe(!0)}),it("returns string result",function(){expect("string"==typeof tb.getId()).toBe(!0)})}),describe("tb.extend()",function(){var o1={},o2={a:1},o3={b:1};beforeEach(function(){o1={}}),it("tb.extend() present and typeof 'function'",function(){expect("function"==typeof tb.extend).toBe(!0)}),it("return to be first parameter object",function(){var t=tb.extend(o1,o2);expect(t===o1).toBe(!0)}),it("result object to be extended",function(){tb.extend(o1,o2);expect(1===o1.a).toBe(!0)}),it("test for multiple objects",function(){tb.extend(o1,o2,o3);expect(1===o1.a).toBe(!0),expect(1===o1.b).toBe(!0)})}),describe("tb.parse()",function(){it("tb.parse() present and typeof 'function'",function(){expect("function"==typeof tb.parse).toBe(!0)}),it("parse a simple string",function(){var t=tb.parse("{test}",{test:"result"});expect("result"===t).toBe(!0)}),it("parse an object",function(){var o=tb.parse({s1:"{test1}",s2:"{test2}"},{test1:"result1",test2:"result2"});expect("result1"===o.s1&&"result2"===o.s2).toBe(!0)}),it("parse an array",function(){var a=["{test1}","{test2}"];tb.parse(a,{test1:"result1",test2:"result2"});expect("result1"===a[0]&&"result2"===a[1]).toBe(!0)}),it("parse a complex nested structure: object in array",function(){var a=["{test1}",{s2:"{test2}"}],a=tb.parse(a,{test1:"result1",test2:"result2"});expect(a instanceof Array).toBe(!0),expect("result1"===a[0]&&"result2"===a[1].s2).toBe(!0)}),it("parse a complex nested structure: array in object",function(){var o={s1:"{test1}",a:["{test2}"]},o=tb.parse(o,{test1:"result1",test2:"result2"});expect("object"==typeof o).toBe(!0),expect("result1"===o.s1&&"result2"===o.a[0]).toBe(!0)})}),describe("tb.request()",function(){it("tb.request() present and typeof 'function'",function(){expect("function"==typeof tb.request).toBe(!0)})})})});